<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Audio on the Web</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">Audio on the Web</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1091_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Nexii</div>
          <div class="creation_date">2017-09-14</div>
          <div class="post_content">
<p>As someone who’s not experienced in audio, I have always felt very stupid when trying to use the WebAudio API in a practical way. Turns out it wasn’t my fault.</p>
<p>Jasper St. Pierre wrote a great piece about the state of audio on the web:
<a class="onebox" href="http://blog.mecheye.net/2017/09/i-dont-know-who-the-web-audio-api-is-designed-for/" rel="nofollow noopener" target="_blank">http://blog.mecheye.net/2017/09/i-dont-know-who-the-web-audio-api-is-designed-for/</a></p>
<p>I think we should work towards a better Audio API.</p>
<p>So, this is a call out for everyone.
Please speak up, and lets bet on the web.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/658_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AshleyScirra</div>
          <div class="creation_date">2017-09-14</div>
          <div class="post_content">
<p>The Web Audio API works great in my experience. We use it for game engine audio, and it’s well suited for that purpose. I think critical posts tend to get more attention than positive ones, which can distort the perception of a technology.</p>
<p>Having said that, it does sound like if you want low-level sample-level control, things are tricky. Perhaps there could be some extensions to the API to help cover that. As ever, concrete proposals are the most useful way forward.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1429_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Jasper</div>
          <div class="creation_date">2017-09-14</div>
          <div class="post_content">
<p>Hi, I’m the author of the blog post in question. I’m definitely curious if you are deep-graph or shallow-graph.</p>
<p>I do tend to care more about shallow-graph usage because I require accuracy to the sounds that I’m reproducing, so that’s what I wrote about in my blog post. From my experience quite a few years ago, deep-graph had its issues but it’s possible those have been resolved. See: <a href="http://funny.computer/cloud/Peggle/" rel="nofollow noopener">http://funny.computer/cloud/Peggle/</a> (warning: large download)</p>
<p>I’ve left a proposal for simple sample-based playback here: <a href="https://github.com/WebAudio/web-audio-api/issues/1322" rel="nofollow noopener">https://github.com/WebAudio/web-audio-api/issues/1322</a></p>
<p>Other important issues to watch:
<aside class="onebox githubissue">
<header class="source">
<a href="https://github.com/WebAudio/web-audio-api/issues/373" rel="nofollow noopener" target="_blank">github.com/WebAudio/web-audio-api</a>
</header>
<article class="onebox-body">
<div class="github-row">
<div class="github-icon-container" title="Issue">
<svg aria-hidden="true" class="github-icon" height="60" viewbox="0 0 14 16" width="60"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
</div>
<div class="github-info-container">
<h4>
<a href="https://github.com/WebAudio/web-audio-api/issues/373" rel="nofollow noopener" target="_blank">How to avoid generating garbage in hot paths?</a>
</h4>
<div class="github-info">
<div class="date">
        opened <span class="discourse-local-date" data-date="2014-10-18" data-format="ll" data-time="15:00:06" data-timezone="UTC">03:00PM - 18 Oct 14 UTC</span>
</div>
<div class="date">
          closed <span class="discourse-local-date" data-date="2019-09-17" data-format="ll" data-time="02:38:09" data-timezone="UTC">02:38AM - 17 Sep 19 UTC</span>
</div>
<div class="user">
<a href="https://github.com/juj" rel="nofollow noopener" target="_blank">
<img alt="juj" class="onebox-avatar-inline" height="20" src="https://avatars2.githubusercontent.com/u/225351?v=4" width="20"/>
          juj
        </a>
</div>
</div>
</div>
</div>
<div class="github-row">
<p class="github-content">In the specification, AudioBufferSourceNodes are one off fire-and-forget objects. Profiling Emscipten-compiled pages, these continuously generate garbage when new objects need to...</p>
</div>
<div class="labels">
<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">Feature Request/Missing Feature</span>
<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">Theme - V1 Enhancement</span>
</div>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<aside class="onebox githubissue">
<header class="source">
<a href="https://github.com/WebAudio/web-audio-api-v2/issues/18" rel="nofollow noopener" target="_blank">github.com/WebAudio/web-audio-api-v2</a>
</header>
<article class="onebox-body">
<div class="github-row">
<div class="github-icon-container" title="Issue">
<svg aria-hidden="true" class="github-icon" height="60" viewbox="0 0 14 16" width="60"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
</div>
<div class="github-info-container">
<h4>
<a href="https://github.com/WebAudio/web-audio-api-v2/issues/18" rel="nofollow noopener" target="_blank">Streaming music with custom loop points and adjusted pitch?</a>
</h4>
<div class="github-info">
<div class="date">
        opened <span class="discourse-local-date" data-date="2016-08-18" data-format="ll" data-time="08:38:55" data-timezone="UTC">08:38AM - 18 Aug 16 UTC</span>
</div>
<div class="user">
<a href="https://github.com/juj" rel="nofollow noopener" target="_blank">
<img alt="juj" class="onebox-avatar-inline" height="20" src="https://avatars2.githubusercontent.com/u/225351?v=4" width="20"/>
          juj
        </a>
</div>
</div>
</div>
</div>
<div class="github-row">
<p class="github-content">How can one stream music files while a) setting custom loop points for the loops to generate a seamless looping audio...</p>
</div>
<div class="labels">
</div>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<aside class="onebox githubissue">
<header class="source">
<a href="https://github.com/WebAudio/web-audio-api/issues/1305" rel="nofollow noopener" target="_blank">github.com/WebAudio/web-audio-api</a>
</header>
<article class="onebox-body">
<div class="github-row">
<div class="github-icon-container" title="Issue">
<svg aria-hidden="true" class="github-icon" height="60" viewbox="0 0 14 16" width="60"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
</div>
<div class="github-info-container">
<h4>
<a href="https://github.com/WebAudio/web-audio-api/issues/1305" rel="nofollow noopener" target="_blank">Remove AudioContext.decodeAudioData() from the web</a>
</h4>
<div class="github-info">
<div class="date">
        opened <span class="discourse-local-date" data-date="2017-09-01" data-format="ll" data-time="12:59:35" data-timezone="UTC">12:59PM - 01 Sep 17 UTC</span>
</div>
<div class="date">
          closed <span class="discourse-local-date" data-date="2017-09-07" data-format="ll" data-time="16:46:49" data-timezone="UTC">04:46PM - 07 Sep 17 UTC</span>
</div>
<div class="user">
<a href="https://github.com/juj" rel="nofollow noopener" target="_blank">
<img alt="juj" class="onebox-avatar-inline" height="20" src="https://avatars2.githubusercontent.com/u/225351?v=4" width="20"/>
          juj
        </a>
</div>
</div>
</div>
</div>
<div class="github-row">
<p class="github-content">Reading articles around the web, I find that Web Audio API is in a horrible state of affairs at the moment...</p>
</div>
<div class="labels">
</div>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/658_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AshleyScirra</div>
          <div class="creation_date">2017-09-15</div>
          <div class="post_content">
<p>I doubt you will get any traction with a feature that processes real-time audio on the main thread. It’s not just that heavy JS can block the page, it’s also that the page can block the JS: some heavy CSS layout or non-trivial DOM changes can cause 50ms+ of layout, which will hitch the audio stream. So it’s not a sensible approach for processing real-time audio. It <em>has</em> to be lifted off the main thread and in to a worker for any half-way reasonable guarantees about responsiveness, but AFAIK they want to use a new “worklet” primitive for this, which is still in development. I get that it’s frustrating that this all literally takes years, but it is in the works and I think will result in a better API than a quick “expose audio output to the main thread” API, which will never work well in practice.</p>
<p>I think you’re also too quick to jump to conclusions about the wide variety of use cases for the Web Audio API. For example you suggest completely removing decodeAudioData(), but this is an important part of the API for us. Games often use a set of very small sound effects, the memory overhead of which is negligible. In this case fully decompressing them all allows for low-latency playback, and it’s super simple. For long tracks you can - and we already do - pipe a HTMLAudioElement in to the Web Audio API for streaming playback and low memory overhead for things like background music. This all works great in our engine. There is no need to remove decodeAudioData completely, this is a perfectly valid use case and it works well for that. Sure, you can ask for it to do more, but why jump to the extreme right away?</p>
<p>And this is before I even start to consider the compatibility problems. If you suggest removing decodeAudioData completely, you are proposing to break audio playback in all content produced in our game engine over the past 5 years, let alone the rest of the content on the web, and it will guarantee a tide of angry customers coming our way. Again, maybe not all existing APIs are perfect, but removing them is very, <em>very</em> costly to many people in many ways.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
