<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Content Performance Policy</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">Content Performance Policy</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1710_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yoavweiss</div>
          <div class="creation_date">2016-02-24</div>
          <div class="post_content">
<p>Hi,</p>
<p>If <a href="https://googleblog.blogspot.com/2016/02/amping-up-in-mobile-search.html">AMP</a> have shown us anything it is that Perf Matters™ and guaranteed performance matters even more.</p>
<p>Too many mobile sites are too slow, not due to lack of developers trying to make them faster, but because developers often have little control over third parties and page components that are managed by other teams. AMP is a framework that guarantees that a site will be performant, by limiting what it can do to avoid anti-patterns.</p>
<p>I believe we need a standard alternative to provide similar performance guaranties. We need to allow performance-conscious developers to opt-in to the browser’s “fast-path”, and to self-impose <a href="https://github.com/WICG/interventions">interventions</a> in order to avoid performance anti-patterns on their site.</p>
<p>A very early draft of that concept can be found on <a href="http://yoavweiss.github.io/ContentPerformancePolicy/#introduction">http://yoavweiss.github.io/ContentPerformancePolicy/#introduction</a>.</p>
<p><span class="mention">@tkadlec</span> <a href="https://timkadlec.com/2016/02/a-standardized-alternative-to-amp/">wrote</a> about the thinking behind the proposal.</p>
<p>It’s still very early stage, but if there’s interest, I’d be happy to move the repo to the WICG org, and continue work on it here.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/639_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Tigt</div>
          <div class="creation_date">2016-02-25</div>
          <div class="post_content">
<p>This sounds great.</p>
<p>As far as <code>image-lazy-load</code>, would it accept a number as its argument, to define how many of “the first few” images won’t be lazy-loaded?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1631_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">KenjiBaheux</div>
          <div class="creation_date">2016-02-25</div>
          <div class="post_content">
<p>Hi Yoav,</p>
<p>As you probably imagine, I’m very interested in this space.</p>
<p>I would love to help: while doing deep dives and talking to the different stakeholders, I’ve learned a few things that I hope will be useful to this effort.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/503_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">RickByers</div>
          <div class="creation_date">2016-02-25</div>
          <div class="post_content">
<p>This is really great Yoav!  We’ve been exploring ideas along these lines as well.  I’ll file a bunch of GitHub issues with questions / suggestions I have.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1710_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yoavweiss</div>
          <div class="creation_date">2016-02-25</div>
          <div class="post_content">
<p><span class="mention">@Tigt</span> - That’s what I had in mind, but it’s still very much an open question. We would need to look at the use-case and build a good story for this directive and complementary APIs that would enable developers to control the loading of those images.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1710_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yoavweiss</div>
          <div class="creation_date">2016-02-25</div>
          <div class="post_content">
<p><span class="mention">@KenjiBaheux</span> Very happy to have you on board <img alt=":slight_smile:" class="emoji" src="//discourse.wicg.io/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:"/> Let’s chat!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1710_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yoavweiss</div>
          <div class="creation_date">2016-02-25</div>
          <div class="post_content">
<p><span class="mention">@RickByers</span> - Thanks for the comments and suggestions! <img alt=":slight_smile:" class="emoji" src="//discourse.wicg.io/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:"/> I’ll answer on the issues</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1710_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yoavweiss</div>
          <div class="creation_date">2016-02-25</div>
          <div class="post_content">
<p>Any objections to moving the repo to the WICG org?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1801_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">plehegar</div>
          <div class="creation_date">2016-02-25</div>
          <div class="post_content">
<p>+1 to move the repo</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1710_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yoavweiss</div>
          <div class="creation_date">2016-02-25</div>
          <div class="post_content">
<p>repo moved! <a href="https://github.com/WICG/ContentPerformancePolicy">https://github.com/WICG/ContentPerformancePolicy</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1837_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">koalie</div>
          <div class="creation_date">2016-02-26</div>
          <div class="post_content">
<p>Hi all,
FYI, this (French) article on Numerama yesterday, “<a href="http://www.numerama.com/tech/148181-google-amp-ou-quand-notre-impatience-menace-le-web-ouvert.html#commentaires">Google AMP, ou quand notre impatience menace le Web</a>”, says:</p>
<blockquote>
<p>Mais le World Wide Web Consortium (W3C),
qui a en charge l’élaboration des normes du HTML et dont les travaux
sont publics et les décisions consensuelles, est donc mis sur la touche
au profit d’un standard parallèle, fait entre soi selon la règle du plus
fort. Il y aura désormais d’un côté les pages HTML conformes aux
recommandations du W3C, et de l’autre les mêmes pages HTML AMP conformes
aux restrictions strictes imposées par le groupe.</p>
</blockquote>
<p>… which means:</p>
<blockquote>
<p>But the World Wide Web Consortium (W3C), which is in charge of the development of HTML standards and whose work is public and decisions consensual, is sidelined in favor of a parallel standard, made according the rule of the strongest. There will now be on one side HTML pages that comply with W3C recommendations, and on the other the same HTML pages AMP meeting the stringent restrictions imposed by the group.</p>
</blockquote>
<p>I’m trying to point this topic in the article’s comments section.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1710_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yoavweiss</div>
          <div class="creation_date">2016-02-26</div>
          <div class="post_content">
<p>Are you sure the article is referring to this effort? Reading that section over and over (in both French and English) leaves me baffled as to what it actually means.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1837_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">koalie</div>
          <div class="creation_date">2016-02-26</div>
          <div class="post_content">
<p>Hi Yoav,</p>
<p>I am not sure, actually!</p>
<p>When I pointed PLH to the Numérama piece yesterday, he pointed me back to this discourse topic saying that WICG started to get interested. I saw that you referred to AMP, so that looked like a match to me.</p>
<p>I’m happy to remove the reply entirely if it is misleading/unhelpful.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1710_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yoavweiss</div>
          <div class="creation_date">2016-02-26</div>
          <div class="post_content">
<p>Oh no, your comment here is very helpful. Thanks for pointing out the article <img alt=":slight_smile:" class="emoji" src="//discourse.wicg.io/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:"/> I was just wondering if it’s referring to this, as the article is rather vague.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/494_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">mnot</div>
          <div class="creation_date">2016-02-29</div>
          <div class="post_content">
<p>Hey Yoav,</p>
<p>Cool stuff. It seems like there are potentially two kinds of directives (at least):</p>
<ol>
<li>
<p>declarations that the page is going to behave in a certain way, so that browsers can be optimistic in performance assumptions.</p>
</li>
<li>
<p>declarations that embedded content needs to have certain activities / behaviours curtailed; sort of a “perf sandbox.”</p>
</li>
</ol>
<p>Most of what you have so far seem to be the latter. FWIW, since you’re modelling this on CSP, this might help in those cases:
<a class="onebox" href="https://w3c.github.io/webappsec-csp/embedded/" target="_blank">https://w3c.github.io/webappsec-csp/embedded/</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/639_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Tigt</div>
          <div class="creation_date">2016-03-30</div>
          <div class="post_content">
<p>It would probably be wise to opt for the latter kind of directive, because lying to the browser about optimistic assumptions it can make (which <strong>will</strong> happen) is likely to cause more perf trouble than it solves.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/302_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tabatkins</div>
          <div class="creation_date">2016-03-30</div>
          <div class="post_content">
<p>Agreed.  It’s the difference between CSS’s <code>will-change</code> (optimistic, can be misused and hurt your perf) and <code>contain</code> (restrictive, enforces all the qualities it needs in order to hard-optimize).  The former can be useful sometimes, but it should be rare; we should mostly be designing the latter.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
