<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>CSS Shaders in Paint API?</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">CSS Shaders in Paint API?</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">acterhd</div>
          <div class="creation_date">2016-07-19</div>
          <div class="post_content">
<p>Hello. Why in paint API just not use shaders, like in Shadertoy? For example <code>--image</code> will <code>uniform sampler2D css_image</code>. Any 2D position property will as vec2, any “translate, scale” will uniform matrix. And better base on WebGL 2. Also, geometry also should present as vec2. I think effect will better than just context 2D. I think no need meshes, etc. Need just shaders.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/302_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tabatkins</div>
          <div class="creation_date">2016-07-19</div>
          <div class="post_content">
<p>You brought this up earlier in the spec repository and it was explained to you.  Allowing arbitrary shaders in the middle of the rendering pipeline is just too dangerous; it would need heavy validation/filtering that is much more complex than implementations are willing to deal with right now.  This is precisely why the CSS Shaders spec was eventually abandoned.</p>
<p>(Shaders in WebGL are a different story - they can be run separately from the rest of the rendering pipeline and are thus much safer. That said, we still have to use an actively-maintained denylist for drivers and graphics cards that are too insecure to run arbitrary web content on, so a decent chunk of the populace simply can’t run WebGL applications.  Giving CSS that same set of restrictions would be rather annoying, especially since you wouldn’t even have the easy ability to detect and fallback like raw JS does.)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">acterhd</div>
          <div class="creation_date">2016-07-19</div>
          <div class="post_content">
<p>But why no just make support for embeding canvas in background? Same as for <code>&lt;img&gt;</code> support (embed canvas). Why just no make conic gradients support for 2D canvas? Also I found issue with CSS <code>content</code>: how element will sized (how define intrinsic size)? Why just no make like this?</p>
<p>I suggest API:
<code>element.style.setPaintSource("--canvas", canvas)</code></p>
<p>And:
<code>background-image: var(--canvas);</code></p>
<p>I tried to make dynamic CSS images (include by named), but use <code>canvas.toBlob</code> very overheat CPU. So I think needs direct way.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
