<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Detect toggle key is on or off (caps lock, etc)</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">Detect toggle key is on or off (caps lock, etc)</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/69_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">composite</div>
          <div class="creation_date">2014-05-29</div>
          <div class="post_content">
<p>Many native apps have a function of detect caps lock detect when user watching log in screen.</p>
<p>I think Web apps must have this too.</p>
<p>Many developers have headache of detect caps lock on login screen. maybe. I have too.</p>
<p>Some client requests it. yes. it’s possible when user key pressing.</p>
<p>but, before key press, Web app can’t detect caps lock is on.</p>
<p>So, I have a wish that add a key event of detect toggle keys like what caps lock is on or off.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3804_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">simevidas</div>
          <div class="creation_date">2014-05-29</div>
          <div class="post_content">
<p>Could you provide a use case? How could caps lock detection be useful for a web app?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/73_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">mockbrian</div>
          <div class="creation_date">2014-05-29</div>
          <div class="post_content">
<p>I think this is a use case <span class="mention">@composite</span> had in mind:</p>
<ol>
<li>Open app Foo</li>
<li>Enable Caps Lock</li>
<li>Open Browser</li>
<li>Focus a password input</li>
<li>Start typing</li>
</ol>
<p>I think it’s at step 5 here where if there was an API for toggle key state, the web page could pop up a helpful message saying “Looks like you have caps lock on!” to help users who may have forgotten and are accidentally repeatedly typing an all-caps variant of their password.</p>
<p>If my understanding is correct, currently you could listen for the keydown event on Caps Lock, but if the keydown happens outside the browser, such as in app Foo, the Browser would never know and thus not be able to track the key state correctly.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/72_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dontcallmedom</div>
          <div class="creation_date">2014-05-29</div>
          <div class="post_content">
<p>I had the same use case in mind when I read <span class="mention">@composite</span> 's message.</p>
<p>Maybe the browser should warn the user upon entering a password field with CAPS LOCK on by default (instead of having every app doing it itself).</p>
<p>Also, an app could detect (although probably not entirely reliably) that CAPS LOCK is on by observing the effects (i.e. only uppercase characters being typed in the input field.)</p>
<p>With all that said, it looks like DOM Level 3 Events has support for <a href="http://www.w3.org/TR/DOM-Level-3-Events/#key-CapsLock">Caps Lock detection</a> if I’m reading it correctly; I don’t know the status of its implementation though.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/69_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">composite</div>
          <div class="creation_date">2014-05-30</div>
          <div class="post_content">
<p>That’s right. current browser can’t detect capslock key until keydown event.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/69_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">composite</div>
          <div class="creation_date">2014-05-30</div>
          <div class="post_content">
<p>It seems that property is key specific event property. I think.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/72_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dontcallmedom</div>
          <div class="creation_date">2014-06-02</div>
          <div class="post_content">
<p>Indeed; I had overlooked that part of your initial request. Can you say more on why you want to detect it ahead of any keyboard input? It would seem to me that alerting the user when they start typing should be good enough, but you probably have more hands-on experience on this <img alt=":slight_smile:" class="emoji" src="//discourse.wicg.io/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
