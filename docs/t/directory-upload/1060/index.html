<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Directory Upload</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">Directory Upload</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">aliams</div>
          <div class="creation_date">2015-08-12</div>
          <div class="post_content">
<p>Websites are currently able to provide functionality for uploading files by using <code>&lt;input type="file" multiple&gt;</code> and drag and drop. However, there currently is no standard and interoperable spec that enables the handling of directories and cases that involve a mix of files and directories.</p>
<p>We are proposing a spec that will provide the necessary mechanisms to enable directory uploading which can be found here: <a href="https://wicg.github.io/directory-upload/proposal.html" rel="nofollow noopener">https://wicg.github.io/directory-upload/proposal.html</a></p>
<p>This has been worked on by Microsoft - with contributions from Mozilla - and we would like to get feedback from the wider WICG before we are able to migrate it to a working group in the W3C. A polyfill that uses the old Chrome FileSystem API - which has since been deprecated - can be found here: <a href="https://wicg.github.io/directory-upload/index.html" rel="nofollow noopener">https://wicg.github.io/directory-upload/index.html</a></p>
<p>Your feedback to our proposal is greatly appreciated!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/658_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AshleyScirra</div>
          <div class="creation_date">2015-08-13</div>
          <div class="post_content">
<p>I’m concerned about how getFilesAndDirectories() appears to require loading all the File objects in to memory along the way. As it stands it looks like if you just want to examine the file/folder structure, you can’t do that without inadvertently loading every File along the way as well, and some might be quite large. So for example if a web app wants to validate that a particular directory structure is valid, it looks like with this proposal it would be unable to avoid possibly significant amounts of file I/O to load File objects that are not yet wanted or needed. Perhaps the browser could return the file tree synchronously (just file names and directory structure), and then a promise-based method would be used to retrieve each File?</p>
<p>Also are there any security implications around users selecting their root system directory? For example if a Windows user selects C:\ as the directory, obviously you may not want to upload that, but now JS has access to their entire system disk structure, right? (Subject to user and app permissions of course, but probably includes all their personal documents)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jwatt</div>
          <div class="creation_date">2015-08-18</div>
          <div class="post_content">
<p>The size of a DOM File object doesn’t depend on the size of the file’s contents on disk. The contents typically will not be read from disk unless you create a FileReader.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/658_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AshleyScirra</div>
          <div class="creation_date">2015-08-18</div>
          <div class="post_content">
<p>Oh, sounds good. In that case I think it’s fine <img alt=":sunglasses:" class="emoji" src="//discourse.wicg.io/images/emoji/twitter/sunglasses.png?v=5" title=":sunglasses:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jwatt</div>
          <div class="creation_date">2015-08-18</div>
          <div class="post_content">
<p>Firefox <a href="https://nightly.mozilla.org/">Nightly</a> builds currently have an implementation of the proposal for testing purposes. The implementation will be disabled in Aurora and Beta builds until the proposal is solid enough to ship at some point in the future.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
