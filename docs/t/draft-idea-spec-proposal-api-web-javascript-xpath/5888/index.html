<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[Draft Idea/Spec/Proposal] API Web Javascript Xpath</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">[Draft Idea/Spec/Proposal] API Web Javascript Xpath</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">raphaellouis</div>
          <div class="creation_date">2022-05-22</div>
          <div class="post_content">
<p>Hi all!</p>
<h4>
<a class="anchor" href="#feature-name-1" name="feature-name-1"></a>Feature name</h4>
<p>[Idea] API Web Javascript Xpath</p>
<h4>
<a class="anchor" href="#feature-description-2" name="feature-description-2"></a>Feature description</h4>
<ol>
<li>I wish there was an api to parse html in a standardized way. Currently, I have to use third-party libraries for this.</li>
<li>If one existed a standardized xpath api, I could create an extension on google, to analyze and send information from the site that I need easily and accurately</li>
<li>There are several documentations made about this, but there is no minimalistic and easy api for this. Reference here: <a href="https://dom.spec.whatwg.org/#interface-xpathexpression">interface-xpathexpression</a> or here <a href="https://wiki.whatwg.org/wiki/DOM_XPath">DOM_XPath</a> or here <a href="https://dom.spec.whatwg.org/#xpath">xpath spec</a> or here <a href="https://www.w3.org/TR/DOM-Level-3-XPath/xpath.html">DOM-Level-3-XPath</a> or here <a href="https://lists.w3.org/Archives/Public/public-webapps/2011AprJun/0310.html">0310</a>
</li>
</ol>
<h5>
<a class="anchor" href="#beforejs-3" name="beforejs-3"></a>before.js</h5>
<pre><code class="lang-auto">var xpath = "//div";
var evaluator = new XPathEvaluator();
var expression = evaluator.createExpression(xpath);
var result = expression.evaluate(document, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE);
document.querySelector("output").textContent = result.snapshotLength;
</code></pre>
<h5>
<a class="anchor" href="#afterjs-4" name="afterjs-4"></a>after.js</h5>
<pre><code class="lang-auto">var select, dom = require('xmldom').DOMParser
var xml = "&lt;book&gt;&lt;title&gt;Harry Potter&lt;/title&gt;&lt;/book&gt;"
var doc = new dom().parseFromString(xml)    
var nodes = select(doc, "//title")
console.log(nodes[0].localName + ": " + nodes[0].firstChild.data)
console.log("node: " + nodes[0].toString())
</code></pre>
<h5>
<a class="anchor" href="#references-5" name="references-5"></a>References</h5>
<ul>
<li><a class="inline-onebox" href="https://github.com/yaronn/xpath.js" rel="noopener nofollow ugc">GitHub - yaronn/xpath.js: An xpath module for node, written in pure javascript</a></li>
<li><a class="inline-onebox" href="https://developer.mozilla.org/en-US/docs/Web/API/XPathExpression" rel="noopener nofollow ugc">XPathExpression - Web APIs | MDN</a></li>
<li><a class="inline-onebox" href="https://github.com/antchfx/xpath" rel="noopener nofollow ugc">GitHub - antchfx/xpath: XPath package for Golang, supports HTML, XML, JSON document query.</a></li>
<li><a class="inline-onebox" href="https://github.com/hieuvp/xpath-html" rel="noopener nofollow ugc">GitHub - hieuvp/xpath-html: Easily use XPath to locate any element in an HTML DOM page.</a></li>
<li><a class="inline-onebox" href="https://github.com/goto100/xpath" rel="noopener nofollow ugc">GitHub - goto100/xpath: DOM 3 Xpath implemention and helper for node.js</a></li>
<li><a class="inline-onebox" href="https://github.com/philou/xpath-specs" rel="noopener nofollow ugc">GitHub - philou/xpath-specs: An RSpec library to get better messages when matching XPaths</a></li>
<li><a class="inline-onebox" href="https://github.com/teamcapybara/xpath" rel="noopener nofollow ugc">GitHub - teamcapybara/xpath: Ruby library for generating XPath expressions</a></li>
<li><a class="inline-onebox" href="https://github.com/kyleburton/clj-xpath" rel="noopener nofollow ugc">GitHub - kyleburton/clj-xpath: Simplified XPath Library for Clojure</a></li>
<li><a class="inline-onebox" href="https://github.com/r0oth3x49/Xpath" rel="noopener nofollow ugc">GitHub - r0oth3x49/Xpath: A python based cross-platform tool that automates the process of detecting and exploiting error-based injection security flaws.</a></li>
<li><a class="inline-onebox" href="https://github.com/sissaschool/elementpath" rel="noopener nofollow ugc">GitHub - sissaschool/elementpath: XPath 1.0/2.0/3.0 parsers and selectors for ElementTree and lxml</a></li>
<li><a class="inline-onebox" href="https://www.ibm.com/support/pages/using-xpath-expressions-message-filter-primitive-websphere-process-server-wps-and-websphere-enterprise-service-bus-wesb" rel="noopener nofollow ugc">Using XPath expressions with the Message Filter Primitive for WebSphere Process Server (WPS) and WebSphere Enterprise Service Bus (WESB)</a></li>
</ul>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
