<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Making &lt;option&gt; a first-class citizen (and other &lt;select&gt; tweaks)</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">Making &lt;option&gt; a first-class citizen (and other &lt;select&gt; tweaks)</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2501_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">stuartpb</div>
          <div class="creation_date">2015-08-08</div>
          <div class="post_content">
<p>Continuing the discussion from <a href="//discourse.wicg.io/t/extending-select-a-la-chosen-select2/940">Extending &lt;select&gt; a la chosen/select2</a>:</p>
<aside class="quote" data-full="true" data-post="1" data-topic="940">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/stuartpb/40/606_1.png" width="20"/><a href="//discourse.wicg.io/t/extending-select-a-la-chosen-select2/940/1">Extending &lt;select&gt; a la chosen/select2</a>
</div>
<blockquote>
<p>As previously proposed by Paul Irish:</p>
<p><a href="https://github.com/h5bp/lazyweb-requests/issues/92" rel="nofollow noopener">https://github.com/h5bp/lazyweb-requests/issues/92</a></p>
</blockquote>
</aside>
<p>I don’t have any specific familiarity with <code>select2</code> or <code>chosen</code>, but, after giving this a little more thought, these are a few simple changes/extensions to the existing element that would fit the way I’ve seen <code>&lt;select&gt;</code> traditionally “extended”:</p>
<ul>
<li>Loosen the allowed content rules for <code>&lt;option&gt;</code> from <em>text content</em> to <em>phrasing content</em>. (This shouldn’t break any existing web content, as phrasing content is a superset of what was allowable before.)</li>
<li>Expose UI events on <code>&lt;option&gt;</code> elements and their children.</li>
<li>Add pseudo-selectors for <code>:selected</code> and <code>:collapsed</code>.</li>
<li>Allow styling of <code>&lt;option&gt;</code>, with a sensible <a href="//discourse.wicg.io/t/why-don-t-user-agents-default-to-cursor-pointer-for-buttons/856/3">standard style</a> based around traditional text-content <code>&lt;option&gt;</code>s.
<ul>
<li>The default style for a child of <code>&lt;select&gt;</code> includes <code>display: block</code> when not collapsed, and <code>display: inline-block</code> when collapsed.</li>
</ul>
</li>
<li>Allow an <code>&lt;input&gt;</code> child inside <code>&lt;select&gt;</code>, for implementing search boxes / “new item” input (which receives keyboard events when the <code>&lt;select&gt;</code> is opened instead of the current UA behavior).</li>
</ul>
<p>This could be polyfilled with a script that replaces <code>&lt;select&gt;</code> on a page with a custom element (in the traditional mocked-UI sense, not necessarily in the Web Components sense). The one thing <em>only UAs</em> can do is present the <code>&lt;select&gt;</code> elements in a frame that extends <em>beyond</em> the viewport (this is a significant issue for Chrome Extension popups).</p>
<p>Past this, it might be possible to start standardizing some more-complex-but-common behaviors (like having the <code>&lt;input&gt;</code> filter the list of displayed <code>&lt;options&gt;</code>), but it feels like these would be the necessary first steps.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
