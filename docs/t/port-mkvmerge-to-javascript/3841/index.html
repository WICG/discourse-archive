<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Port mkvmerge to JavaScript</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">Port mkvmerge to JavaScript</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2280_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">guest271314</div>
          <div class="creation_date">2019-08-24</div>
          <div class="post_content">
<p><strong>Background</strong></p>
<p>W3C <code>MediaRecorder</code> implementation at browsers output Matroska and WebM files.</p>
<p><strong>What is not currently possible using existing APIs shipped with the browser</strong></p>
<p><code>MediaRecorder</code> specification does not provide a means to concatenate <code>MediaStreamTrack</code>s into a single recording without using WebRTC <code>RTCRtpSender.replaceTrack()</code> to replace a live <code>MediaStreamTrack</code> in a live <code>MediaStream</code>.</p>
<p>In brief, see</p>
<ul>
<li><a href="https://github.com/w3c/mediacapture-record/issues/147" rel="nofollow noopener">https://github.com/w3c/mediacapture-record/issues/147</a></li>
<li><a href="https://github.com/w3c/mediacapture-record/issues/168" rel="nofollow noopener">https://github.com/w3c/mediacapture-record/issues/168</a></li>
<li><a href="https://github.com/GoogleChromeLabs/webm-wasm/issues/9" rel="nofollow noopener">https://github.com/GoogleChromeLabs/webm-wasm/issues/9</a></li>
</ul>
<p><strong>Current workarounds</strong></p>
<ul>
<li>See <a href="https://github.com/guest271314/MediaFragmentRecorder/branches" rel="nofollow noopener">branches</a> at <a href="https://github.com/guest271314/MediaFragmentRecorder" rel="nofollow noopener">https://github.com/guest271314/MediaFragmentRecorder</a>
</li>
<li><a href="https://github.com/guest271314/native-messaging-mkvmerge/blob/master/README.md" rel="nofollow noopener">https://github.com/guest271314/native-messaging-mkvmerge/blob/master/README.md</a></li>
</ul>
<p><strong>Proposed solution</strong></p>
<p>Port <code>mkvmerge</code> from C++ to JavaScript including all available options.</p>
<p>Define the port as a method of the global object at modern browsers, for example, <code>Window</code>, <code>Worker</code> and <code>Worklet</code>.</p>
<p><code>mkvmerge</code> supports reading and concatenating and Matroska and WebM files. Version 36.0.0 supports merging input Matroska or WebM files that potentially include variable width and height (pixel dimensions) into one Matroska or WebM output file (<a href="https://mkvtoolnix.download/doc/NEWS.md" rel="nofollow noopener">https://mkvtoolnix.download/doc/NEWS.md</a>).</p>
<blockquote>
<p>This program takes the input from several media files and joins their streams (all of them or just a selection) into a Matroska™ file; see <a href="http://www.matroska.org/" rel="nofollow noopener">the Matroska website</a>.</p>
</blockquote>
<p><a href="https://www.matroska.org/technical/guides/make/linux/index.html" rel="nofollow noopener">Linux Creation/Editing</a></p>
<blockquote>
<p>Use <a href="http://www.bunkus.org/videotools/mkvtoolnix/" rel="nofollow noopener">mkvmerge</a>…</p>
<p>There is an interesting guide on how to fix audio/video sync <a href="http://www.linuxforums.org/forum/coffee-lounge/188425-how-synchronize-audio-matroska-mkv-media-file-container.html#post888684" rel="nofollow noopener">on this forum</a></p>
</blockquote>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
