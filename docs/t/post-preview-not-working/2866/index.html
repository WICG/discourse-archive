<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Post preview not working</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">Post preview not working</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1653_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dcreager</div>
          <div class="creation_date">2018-06-28</div>
          <div class="post_content">
<p>The live preview isn’t working when editing a post.</p>
<p>Screenshot:</p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="//discourse.wicg.io/uploads/default/bec2c7ba3963ac8d4c2d30c78ef20881428dca38" href="//discourse.wicg.io/uploads/default/original/2X/b/bec2c7ba3963ac8d4c2d30c78ef20881428dca38.png" title="Lc6zBDfgZgU.png"><img alt="Lc6zBDfgZgU" data-small-upload="//discourse.wicg.io/uploads/default/optimized/2X/b/bec2c7ba3963ac8d4c2d30c78ef20881428dca38_2_10x10.png" height="500" src="//discourse.wicg.io/uploads/default/optimized/2X/b/bec2c7ba3963ac8d4c2d30c78ef20881428dca38_2_465x500.png" srcset="//discourse.wicg.io/uploads/default/optimized/2X/b/bec2c7ba3963ac8d4c2d30c78ef20881428dca38_2_465x500.png, //discourse.wicg.io/uploads/default/original/2X/b/bec2c7ba3963ac8d4c2d30c78ef20881428dca38.png 1.5x, //discourse.wicg.io/uploads/default/original/2X/b/bec2c7ba3963ac8d4c2d30c78ef20881428dca38.png 2x" width="465"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">Lc6zBDfgZgU.png</span><span class="informations">572×615 18.8 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>There’s a mixed content warning in the console:</p>
<pre><code class="lang-auto">_ember_jquery-27e777857b8c0730dacfe09cb11711365d21a5db4f9ee0b85d494e4259cf6cda.js:9683 Mixed Content: The page at 'https://discourse.wicg.io/c/meta' was loaded over HTTPS, but requested an insecure script 'http://discourse.wicg.io/assets/markdown-it-bundle-44ce7be589dddfedfcc9dec272ffdde2a286729af050f016dfc7c8fd40290d06.js'. This request has been blocked; the content must be served over HTTPS.
</code></pre>
<p>which suggests that the problem is that <a href="https://meta.discourse.org/t/discourse-preview-not-working/67584/41" rel="nofollow noopener"><code>force_https</code></a> needs to be enabled.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3066_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jhpratt</div>
          <div class="creation_date">2018-06-28</div>
          <div class="post_content">
<p>I haven’t had the preview available when <em>creating</em> posts/comments for quite a while. I just assumed it was a Firefox thing, but I’ve got a similar error.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1653_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dcreager</div>
          <div class="creation_date">2018-06-28</div>
          <div class="post_content">
<aside class="quote no-group" data-post="2" data-topic="2866">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/jhpratt/40/1422_1.png" width="20"/> jhpratt:</div>
<blockquote>
<p>when <em>creating</em> posts/comments</p>
</blockquote>
</aside>
<p>Yes, good catch!  I meant creating, as well.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1710_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yoavweiss</div>
          <div class="creation_date">2018-08-20</div>
          <div class="post_content">
<p>Apologies for the delay.</p>
<p>The cause for this was mixed content which AFAICT are part of the Discourse distribution. I now fixed this for supporting browsers by setting the upgrade-insecure-requests header in the responses.
According to <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Upgrade-Insecure-Requests#Browser_compatibility">MDN</a>, this should fix the issue anywhere other than old IE.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
