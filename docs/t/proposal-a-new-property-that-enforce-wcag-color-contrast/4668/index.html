<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Proposal: A new property that enforce WCAG color contrast</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">Proposal: A new property that enforce WCAG color contrast</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2732_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Jack-Works</div>
          <div class="creation_date">2020-07-16</div>
          <div class="post_content">
<pre><code class="lang-css">.box {
   background: black;
   color: #111;
   wcag-at-least: AAA; // equals 4.5
}
</code></pre>
<p>The black and <span class="hashtag">#111</span> does not satisfy the WCAG AAA test. The browser should ignore the color property and reselect a new color to enforce the contrast reach 4.5.</p>
<p>This is especially helpful when the website is themeable. It’s easily to create a not accessible theme in a complex website.
It also useful when the text is on a image.</p>
<p>A real world example: <a href="https://github.com/material-theme/vsc-material-theme/issues/483" rel="nofollow noopener">https://github.com/material-theme/vsc-material-theme/issues/483</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3804_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">simevidas</div>
          <div class="creation_date">2020-07-17</div>
          <div class="post_content">
<p>If the browser adds the capability to enforce minimum contrast on the web, would it not be better if this option was provided in the browser’s preferences, so that the user can apply it to all websites?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2732_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Jack-Works</div>
          <div class="creation_date">2020-07-17</div>
          <div class="post_content">
<p>Browser options is a all-or-none options. It can’t know if developer want to make it clear here. (Notice the image backgrounds example above)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2459_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">PaulmWatson</div>
          <div class="creation_date">2020-07-21</div>
          <div class="post_content">
<p>Possibly a warning in the console like other CSS warnings rather than an error or the browser ignoring the style.</p>
<p>Webhint and Lighthouse audits also warn on low contrast situations.</p>
<aside class="onebox whitelistedgeneric">
<header class="source">
<img class="site-icon" height="16" src="https://uxmovement.com/wp-content/uploads/2019/02/cropped-uxmovement-site-icon-32x32.png" width="16"/>
<a href="https://uxmovement.com/buttons/the-myths-of-color-contrast-accessibility/" rel="nofollow noopener" target="_blank" title="01:33PM - 16 October 2019">UX Movement – 16 Oct 19</a>
</header>
<article class="onebox-body">
<div class="aspect-image" style="--aspect-ratio:132/74;"><img class="thumbnail" height="74" src="https://uxmovement.com/wp-content/uploads/2019/10/cca-bluebuttons.png" width="132"/></div>
<h3><a href="https://uxmovement.com/buttons/the-myths-of-color-contrast-accessibility/" rel="nofollow noopener" target="_blank">The Myths of Color Contrast Accessibility</a></h3>
<p>There's a growing demand for designers to make their interfaces accessible to all users. It's important to accommodate users with disabilities...</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2732_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Jack-Works</div>
          <div class="creation_date">2020-07-21</div>
          <div class="post_content">
<p>Warning is not useful. I’m meaning the developer opt-in color contrast enforcing</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1601_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">collimarco</div>
          <div class="creation_date">2020-07-22</div>
          <div class="post_content">
<p>I think it would be much more useful to have <strong>an automatic color selection</strong> based on background:</p>
<pre><code class="lang-auto">color: contrast;
</code></pre>
<p>Then we need too decide the exact behavior:</p>
<ul>
<li>does it use only pure white and black?</li>
<li>does it use a scale with many different gray variations?</li>
<li>does it use any color that the browser thinks is good?</li>
</ul>
<p>That would be simple to apply on a background color.</p>
<p>However a better solution would be to consider also any background image, gradient, etc.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2732_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Jack-Works</div>
          <div class="creation_date">2020-07-22</div>
          <div class="post_content">
<p>What about color: contrast(red, 8, blue, 6, auto, 5). If not satisfying 1:8, use red, if not satisfying 6, use blue. If not satisfying 5, let browser select a contract color.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3850_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Malvoz</div>
          <div class="creation_date">2020-07-22</div>
          <div class="post_content">
<aside class="onebox githubissue">
<header class="source">
<a href="https://github.com/w3c/csswg-drafts/issues/4749" rel="nofollow noopener" target="_blank">github.com/w3c/csswg-drafts</a>
</header>
<article class="onebox-body">
<div class="github-row">
<div class="github-icon-container" title="Issue">
<svg aria-hidden="true" class="github-icon" height="60" viewbox="0 0 14 16" width="60"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
</div>
<div class="github-info-container">
<h4>
<a href="https://github.com/w3c/csswg-drafts/issues/4749" rel="nofollow noopener" target="_blank">[css-color-5] add target contrast ratio to color-contrast?</a>
</h4>
<div class="github-info">
<div class="date">
        opened <span class="discourse-local-date" data-date="2020-02-05" data-format="ll" data-time="19:35:45" data-timezone="UTC">07:35PM - 05 Feb 20 UTC</span>
</div>
<div class="user">
<a href="https://github.com/svgeesus" rel="nofollow noopener" target="_blank">
<img alt="svgeesus" class="onebox-avatar-inline" height="20" src="https://avatars1.githubusercontent.com/u/2506926?v=4" width="20"/>
          svgeesus
        </a>
</div>
</div>
</div>
</div>
<div class="github-row">
<p class="github-content">@mirisuzanne wrote
I like the basic thrust, but working on design systems, I often need more control than max-contrast from a list....</p>
</div>
<div class="labels">
<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">css-color-5</span>
</div>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2960_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">paceaux</div>
          <div class="creation_date">2020-08-26</div>
          <div class="post_content">
<p>I think this is a small, limited example where we’ve got the non-accessible colors in the same element.</p>
<p>I’d think a more common scenario would be that the background color is 5 elements up in the DOM tree and that you have to calculate visible contrast from multiple sources.</p>
<p>That would mean that the browser has to evaluate the stacking context looking not just for background colors, but anything with <code>opacity</code>, an <code>rgba</code> background, or a <code>filter</code> as well.</p>
<p>maybe a better solution is an accessibility query that keys off of a browser setting?</p>
<p><code>@media wcag(at-least: AAA) {}</code></p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
