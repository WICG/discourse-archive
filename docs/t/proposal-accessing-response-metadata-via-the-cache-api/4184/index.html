<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[Proposal] Accessing Response Metadata via the Cache API</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">[Proposal] Accessing Response Metadata via the Cache API</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/954_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AaronGustafson</div>
          <div class="creation_date">2020-01-09</div>
          <div class="post_content">
<p>Currently, many sites are using Service Workers and the Cache API to store absolutely everything they can, often relying on the browser to evict content when there is storage pressure. Sites that want to be more proactive in managing their caches are limited to pruning responses solely based on when they were cached, typically iterating over the keys of a given cache and deleting the first item until they reduce the quantity of cached responses below a predefined threshold. That might be a good strategy if all responses were equal, but they arenâ€™t. Some payloads are large, others are small. Some resources are computationaly-intensive to produce, others are static files served by a CDN. Some are only accessed once, others are accessed with great frequency, often depending on both the site itself and the particular user interacting with it.</p>
<p>Having a little more clarity on the shape and form of cached responses would enable developers to be more intentional about what they do with cached content.</p>
<ul>
<li><a href="https://github.com/MicrosoftEdge/MSEdgeExplainers/blob/master/CacheAPIResponseMetadata/explainer.md" rel="nofollow noopener">Explainer</a></li>
<li><a href="https://github.com/w3c/ServiceWorker/issues/863" rel="nofollow noopener">Other discussion</a></li>
</ul>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
