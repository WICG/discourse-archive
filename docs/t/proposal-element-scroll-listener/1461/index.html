<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[Proposal] Element scroll listener</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">[Proposal] Element scroll listener</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">mkay581</div>
          <div class="creation_date">2016-04-22</div>
          <div class="post_content">
<p>I have attempted to come up with an easier way to detect when an HTMLElement enters or exits the viewport. There have been many articles and libraries I’ve seen but none of them (at least to my knowledge) do not address entering, entered, exiting, exited events while providing offsets (to do something before the element actually shows in the viewport).</p>
<p>I’ve started a github project with a class called <a href="https://github.com/mkay581/element-listener-js/blob/develop/src/element-listener.js" rel="nofollow noopener">ElementListener</a> that I would like to use as my proposal, but would love to get your thoughts on implementing something like this in the spec or whether or not you think it is worth it to pursue. To be honest, given that I use a class that should instantiated, I’m actually not even sure how best to implement something like this in the spec, so would love your thoughts on that also.</p>
<p>Thanks for your feedback and constructive criticism. <img alt=":slight_smile:" class="emoji" src="//discourse.wicg.io/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/636_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Edwin_Reynoso</div>
          <div class="creation_date">2016-04-22</div>
          <div class="post_content">
<p>This already exist: <a href="https://github.com/WICG/IntersectionObserver/blob/gh-pages/explainer.md" rel="nofollow noopener">https://github.com/WICG/IntersectionObserver/blob/gh-pages/explainer.md</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">mkay581</div>
          <div class="creation_date">2016-04-22</div>
          <div class="post_content">
<p>Oh nice. I actually didn’t know about that repo! I did take a look and it does seem more abstract  than I expected for something like this. The amount of code you would have to write for such a rather small use case seems like overkill, but at least there is some traction on the idea. And I do like that they’ve found a way around using the scroll event which makes it much more performant. <img alt=":slight_smile:" class="emoji" src="//discourse.wicg.io/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:"/> Thanks for posting.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/302_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tabatkins</div>
          <div class="creation_date">2016-04-22</div>
          <div class="post_content">
<p>The code is actually quite small and easy to work with; the examples just look a little scary because they’re commented and solve real non-trivial problems.  Those sorts of examples are great to learn from, but they always look a bit intimidating when you’re first trying to wrap your head around the concept.</p>
<p>The simplest way to use it, if you just want to listen to one element, is:</p>
<pre><code class="lang-auto">let el = ...;
let observer = new IntersectionObserver(changes=&gt;{...});
observer.observe(el);
</code></pre>
<p>Fill in the …s with your code.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
