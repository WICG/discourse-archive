<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[Proposal] Expose the index value (n) in an nth-child selector?</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">[Proposal] Expose the index value (n) in an nth-child selector?</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3721_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Th3S4mur41</div>
          <div class="creation_date">2021-10-05</div>
          <div class="post_content">
<p>Being able to use the index of the current child as value would make several use cases possible without the need to use javascript.</p>
<p>It would for instance be extremely helpful to use as multiplicator to gradually delay animations.
A way to currently achieve this requires the index to be set in a CSS custom properties via JavaScript (to e.g. create an HTML list as below)</p>
<pre><code class="lang-auto">&lt;ul&gt;
  &lt;li style="--index: 0"&gt;&lt;/li&gt;
  &lt;li style="--index: 1"&gt;/li&gt;
  ...
  &lt;li style="--index: n"&gt;/li&gt;
&lt;/ul&gt;

li:nth-child(n) {
	animation: reveal 1s linear calc(var(--index, 0) * 0.5s) both;
}

@keyframes reveal {
	from { opacity: 0; }
	to { opacity: 1; }
}
</code></pre>
<p>Being able to access the index directly in CSS, would simplify use cases as above and make them possible with CSS only.</p>
<p>The same example could be implemented as below…
Note that the use of the ‘env()’ function is just meant as an example of a way this could be done, but there might be better suited approaches.</p>
<pre><code class="lang-auto">li:nth-child(n) {
	animation: reveal 1s linear calc(env(n) * 0.5s) both;
}

@keyframes reveal {
	from { opacity: 0; }
	to { opacity: 1; }
}
</code></pre>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1843_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">leaverou</div>
          <div class="creation_date">2021-10-08</div>
          <div class="post_content">
<p>Or, alternatively, a way to convert strings to numbers would help with these use cases, because then you can use counters. Note that this would be strictly more powerful, as you could choose how to count.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jimmyfrasche</div>
          <div class="creation_date">2021-10-08</div>
          <div class="post_content">
<p>This looks like: <a href="https://github.com/w3c/csswg-drafts/issues/4559" rel="noopener nofollow ugc">https://github.com/w3c/csswg-drafts/issues/4559</a></p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
