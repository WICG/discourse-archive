<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[Proposal] Federated Learning of Cohorts (FLoC)</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">[Proposal] Federated Learning of Cohorts (FLoC)</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jkarlin</div>
          <div class="creation_date">2020-05-18</div>
          <div class="post_content">
<p>This is an API to enable interest-based advertising on the web without the need for third-party cookies. With FLoC, companies who today observe the browsing behavior of individuals instead observe the behavior of a cohort (or “flock”) of similar people. This increases user privacy while providing relevant ads to users.</p>
<p>See <a href="https://github.com/jkarlin/floc" rel="nofollow noopener">the explainer</a> for more detailed information.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2920_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">michaelkleber</div>
          <div class="creation_date">2020-10-22</div>
          <div class="post_content">
<p>A team of engineers from Google Research and Google Ads have just published a whitepaper, <a href="https://github.com/google/ads-privacy/tree/master/proposals/FLoC" rel="noopener nofollow ugc">“Evaluation of Cohort Algorithms for the FLoC API”</a>, which evaluates several decentralized approaches to clustering that are compatible with the constraints in the FLoC proposal.  They report encouraging results after applying the clustering techniques to two public datasets and to Google Ads proprietary data.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3248_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">shigeki</div>
          <div class="creation_date">2020-12-07</div>
          <div class="post_content">
<p>According to the white paper,  we are glad to know that the current SimHash technique in FLoC leads to good cohorts.</p>
<p>We (Yahoo! JAPAN) provide targeting ad services to customers and delivers ads based on interest categories.  We are very interested in evaluating the cohort’s signals from FLoC and our audience data and working together to make this FLoC technology safe for privacy.</p>
<p>It would be great to move FLoC in the WICG and to conduct trials.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2920_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">michaelkleber</div>
          <div class="creation_date">2020-12-07</div>
          <div class="post_content">
<p>Thank you Shigeki Ohtsu, we’re happy to hear of your interest.  We’ll get FLoC moved over into WICG for further incubation.</p>
<p>Our first experimental version of FLoC is not yet code-complete in Chrome.  So the earliest that an Origin Trial could begin would be in the forthcoming Chrome M89, if we get everything completed by its <a href="https://chromiumdash.appspot.com/schedule" rel="noopener nofollow ugc">branch date in January</a>.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1710_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yoavweiss</div>
          <div class="creation_date">2020-12-07</div>
          <div class="post_content">
<p>Great to see this getting industry support! The repo now lives under <a href="https://github.com/WICG/floc">https://github.com/WICG/floc</a></p>
<p>Happy incubation!!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2930_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jwrosewell</div>
          <div class="creation_date">2020-12-14</div>
          <div class="post_content">
<p>Is there more support for this proposal than Yahoo Japan?</p>
<p>I don’t think one other company could be considered industry support. Here is a piece I wrote in Adxchanger that more accurately summarises the situation.</p>
<aside class="onebox allowlistedgeneric">
<header class="source">
<img class="site-icon" height="40" src="https://www.adexchanger.com/wp-content/themes/adexchanger_2014/assets/img/icons/favicon.ico" width="40"/>
<a href="https://www.adexchanger.com/data-driven-thinking/what-the-floc-dont-be-a-sheep/" rel="noopener nofollow ugc" target="_blank" title="11:00AM - 23 November 2020">AdExchanger – 23 Nov 20</a>
</header>
<article class="onebox-body">
<div class="aspect-image" style="--aspect-ratio:582/500;"><img class="thumbnail" height="500" src="https://www.adexchanger.com/wp-content/uploads/2020/11/whattheFLoC_comic.jpeg" width="582"/></div>
<h3><a href="https://www.adexchanger.com/data-driven-thinking/what-the-floc-dont-be-a-sheep/" rel="noopener nofollow ugc" target="_blank">What The FLoC: Don’t Be A Sheep | AdExchanger</a></h3>
<p>Since Google announced Privacy Sandbox, it’s used the World Wide Web Consortium (W3C) to shepherd the industry toward an outcome that benefits very few.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>Perhaps Yahoo Japan could explain how they’ve been able to mitigate the anti trust issues?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/529_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cwilso</div>
          <div class="creation_date">2020-12-16</div>
          <div class="post_content">
<p>Speaking for myself and in my role as WICG chair, not speaking for my employer.</p>
<p>James, as previously mentioned, the bar for getting IN to incubation at the WICG is intentionally low - that is, there must be SOME industry support.  Note that this is actually a HIGHER bar than for the W3C’s Community Group system as a whole, where one merely needs five people (even from the same Member) to start a whole new community group.  Incubations are not intended to represent (to counter the point you have espoused repeatedly) a “done deal”; indeed, they are open exploration, so that multiple parties CAN participate in developing solutions.</p>
<p>The bar for starting a Working Group, Interest Group, or moving a specification from a WG to Recommendation status is, of course, much higher.</p>
<p>Stating things like “the overriding feeling among many is that Google has largely ignored the feedback provided by industry and business stakeholders” as if it were fact seems very much like saying “many people are saying”; without data, it’s impossible to objectively find solutions.  You don’t like our solutions; great, please participate and try to actually solve the problem of providing marketing tools that do not need to violate users’ privacy.  We are actively trying to seek common ground, while you appear to simply be against putting users in control of their own privacy, and attempting to block any attempt to incubation and find solutions that might address the raft of privacy concerns that permeate the Web today.  As I have previously stated, blaming Google for the need to find user-privacy-centric solutions to marketing is a red herring; the market (and the other browsers, who have ALREADY made the changes you are attacking Google for) have already spoken on the need to find better user-center solutions.</p>
<p>Your raising of the spectre of anti-trust seems misplaced, as the pointer you yourself provided in your article makes clear the need to have open collaboration - which your attempt to block discussing FLoC or other privacy-focused tools for marketing would, in fact, prevent.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/57_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">LJWatson</div>
          <div class="creation_date">2020-12-16</div>
          <div class="post_content">
<blockquote>
<p>Perhaps Yahoo Japan could explain how they’ve been able to mitigate the anti trust issues?</p>
</blockquote>
<p>Mentioning anti trust at this early stage of incubation seems premature, and as such it is possible that the statement could be perceived as intimidating in nature.</p>
<p>Whether this was the intent or not, please remember that this CG operates under the <a href="https://www.w3.org/Consortium/cepc/">W3C Code of Ethics and Professional Conduct)</a>.</p>
<p>Thanks.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2930_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jwrosewell</div>
          <div class="creation_date">2020-12-16</div>
          <div class="post_content">
<blockquote>
<p>You don’t like our solutions; great, please participate and try to actually solve the problem of providing marketing tools that do not need to violate users’ privacy.</p>
</blockquote>
<p>See the work of <a href="https://iabtechlab.com/project-rearc/" rel="noopener nofollow ugc">Project Rearc</a> and the <a href="https://iabeurope.eu/blog/new-post-third-party-cookie-taskforce-for-iab-europe-national-iab-members/" rel="noopener nofollow ugc">IAB ‘Post Third-Party Cookie’ Taskforce</a> where I’m an active participant. At the W3C I edited <a href="https://github.com/w3c/web-advertising/blob/master/success-criteria.md" rel="noopener nofollow ugc">success criteria</a> for improved web advertising and a <a href="https://github.com/w3c/web-advertising/blob/master/interoperability-choice-accessibility-accountability-questionairre.md" rel="noopener nofollow ugc">questionaire</a> to help proposers understand the wide impact of a proposal. These groups involve the <a href="https://www.ana.net/content/show/id/ResponsibleAddressableMedia" rel="noopener nofollow ugc">Partnership for Responsible Addressable Media</a> (PRAM) and many other organisations from many sectors providing far greater diversity than I’ve seen in WICG.</p>
<blockquote>
<p>We are actively trying to seek common ground, while you appear to simply be against putting users in control of their own privacy, and attempting to block any attempt to incubation and find solutions that might address the raft of privacy concerns that permeate the Web today.</p>
</blockquote>
<p>The UK Competition and Market Authority have recommend pseudonymous identifiers. The EPC and PRAM also favour a pseudonymous identifiers. Connected TVs all have pseudonymous identifiers. I’m still reading the EU Digitial Markets Act [1] published yesterday. I find footnote 1 interesting as it reads “Such tracking and profiling of end users online is as such not necessarily an issues, but it is important to ensure that this is done in a controlled and transparent manner, in respect of privacy, data protection and consumer protection.” I agree with this sentence. In the case of the UK I believe my elected parliamentarians should decide what is right for people and society. They have an opportunity to do that via the introduction of the Digital Markets Unit legislation. They must have the chance to make these decisions. That is why I started <a href="https://marketersforanopenweb.com/" rel="noopener nofollow ugc">Markters for an Open Web</a> to ensure they get this opportunity.</p>
<p>Perhaps the question should be why does Google pursue solutions that place more personal information into the hands of a smaller number of US trillion dollar oligopolies and in doing so advance a direction that does not appear to be compatible with the position of regulators and a broad representation of web stakeholders?</p>
<p>In relation to Antitrust I have raised a <a href="https://github.com/w3c/w3process/issues/created_by/jwrosewell" rel="noopener nofollow ugc">number of urgent issues</a> in relation to the W3C Process and the Membership Agreement. Of particular significance is the fact that WICG (or any community or business group) cannot create standards. Therefore the antitrust protections afforded the standards process do not apply. Advancing a proposal in this forum that is anti competitive comes with risks and I’m interested to know how these are being mitigated.</p>
<p>[1] <a href="https://www.mlex.com/Attachments/2020-12-15_M89U43IH3191RFXG/201215" rel="noopener nofollow ugc">https://www.mlex.com/Attachments/2020-12-15_M89U43IH3191RFXG/201215</a> proposal-regulation-single-market-digital-services-digital-services-act_en.pdf</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">wseltzer</div>
          <div class="creation_date">2020-12-16</div>
          <div class="post_content">
<p>Please keep legal allegations out of technical discussion. It’s acceptable to ask how competitors can participate in the technology being discussed and to use these proposal discussions to improve interoperability for all, without accusing people of bad intent.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2930_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jwrosewell</div>
          <div class="creation_date">2020-12-17</div>
          <div class="post_content">
<p><span class="mention">@RayAI</span> thank you for highlighting this important development. I provide answers to the questions raised here in the context of that new information in W3C Process CG issue <a href="https://github.com/w3c/w3process/issues/469#issuecomment-747470689" rel="noopener nofollow ugc">469</a>.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3269_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Martin_Gruau</div>
          <div class="creation_date">2020-12-21</div>
          <div class="post_content">
<p>Hello, at Captify we’re considering partnering with some of the publishers we work with for this trial. A few questions just to clarify things:</p>
<ol>
<li>
<p>for the purpose of the trial, would the clustering (a) be based solely on pages within the origins participating in the trial? Or (b) would it be based on the browsing behaviour of users as a whole, as long as the <a href="https://github.com/WICG/floc#qualifying-users-for-whom-a-cohort-will-be-logged-with-their-sync-data" rel="noopener nofollow ugc">conditions defined in the proposal</a> are met?
I’m asking because the answer would have implications for the purpose of which publishers are a good fit for this trial.
Worth noting that case (a) directly ties within the scenario described in <a href="https://github.com/WICG/floc/issues/33" rel="noopener nofollow ugc">this issue</a>.</p>
</li>
<li>
<p>For the scenario where users don’t fill all the qualifying conditions, what would happen during the trial? would the API call simply return an empty string? or would it return a random ID?</p>
</li>
<li>
<p>The proposal mentions the following</p>
</li>
</ol>
<blockquote>
<p>To further enhance user privacy, we will also experiment with adding noise to the output of the hash function, or with occasionally replacing the user’s true cohort with a random one</p>
</blockquote>
<p>To set expectations it would be helpful to know the extent of noise being added (whether during hashing or when returning a random ID) to protect users’ privacy during the trial.</p>
<p>thanks in advance.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2930_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jwrosewell</div>
          <div class="creation_date">2020-12-23</div>
          <div class="post_content">
<p>Why should matters related to compliance with laws that are relevant to the implementation of a technical proposal in practice not be discussed openly? I believe that such a discussion is not only essential but also required under many laws. I’m troubled you continue to advise otherwise or imply in doing so I’m in breach of some rule.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GeekZero</div>
          <div class="creation_date">2021-03-12</div>
          <div class="post_content">
<p>As the EFF <a href="https://www.eff.org/deeplinks/2021/03/googles-floc-terrible-idea" rel="noopener nofollow ugc">says</a> adding a new profile tag as FLoC does actually adds information being sent to advertisers that was not sent before, thus it is not improving but reducing privacy.  Prior to FLoC, third party cookies would only reveal browsing history on sites that allowed harvesting data using them.  FLoC instead will be able to grab every site a browser visits.  Got Diabetes?  That will be utilized.  Political leaning?  That will be utilized.  Expectant mother?  Visit dating sites?  Looking for work?  Contacted a lawyer?  All will be utilized to build your profile.  While this is all completely understandable that the biggest data aggregator would love this approach, advertisers, I believe, need to choose this kind of enhanced profiling OR go back what studies have shown is so more efficient for <a href="https://adage.com/article/digital/study-suggests-contextual-ads-are-more-cost-efficient-behavioral-advertising/2278266" rel="noopener nofollow ugc">advertisers</a>: contextual advertising.  On a camera review site, here’s a camera ad.  On a resort site?  Here’s a travel ad.  Yes it would undoubtedly impact the giants, but if it’s better for privacy and better for advertisers, I believe it should be in serious consideration.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2920_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">michaelkleber</div>
          <div class="creation_date">2021-03-12</div>
          <div class="post_content">
<p>Hello <span class="mention">@GeekZero</span>, thanks for your interest.</p>
<p>Fortunately, we designed FLoC specifically to not have all the properties that you’re worried it might have.</p>
<blockquote>
<p>Prior to FLoC, third party cookies would only reveal browsing history on sites that allowed harvesting data using them. FLoC instead will be able to grab every site a browser visits.</p>
</blockquote>
<p>When fully launched, calculation of the FLoC will only be based on sites that explicitly opt to use the API.  During testing, we’re using our best guess for which sites will adopt, and that is exactly the sites that already load ads-related resources today.</p>
<blockquote>
<p>Got Diabetes? That will be utilized…</p>
</blockquote>
<p>We filter the possible FLoC values and eliminate any that reveals information about sensitive browsing categories, which are listed <a href="https://support.google.com/adspolicy/answer/143465?hl=en" rel="noopener nofollow ugc">here</a>.</p>
<blockquote>
<p>go back what studies have shown is so more efficient for <a href="https://adage.com/article/digital/study-suggests-contextual-ads-are-more-cost-efficient-behavioral-advertising/2278266" rel="noopener nofollow ugc">advertisers</a>: contextual advertising.</p>
</blockquote>
<p>Unfortunately, <a href="https://twitter.com/garjoh_canuck/status/1318989360407236609" rel="noopener nofollow ugc">study after study after study</a> shows that most of the sites on the web would lost 50%-70% of their revenue with the model that you suggest.  Certainly not <em>all</em> publishers would lose out; your examples of camera review sites and resort sites might indeed do just fine (if they still had visitors).  But news sites, for example, get revenue from showing ads for cameras or travel, even when people are reading stories about unrelated topics.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3400_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dmarti</div>
          <div class="creation_date">2021-03-17</div>
          <div class="post_content">
<p>Has there been any documentation on how a site’s decision to use or opt out of FLoC will affect rankings in Google Search and Google News? (I realize that it’s a large company and there are a lot of places to look, and would appreciate any pointers.)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2920_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">michaelkleber</div>
          <div class="creation_date">2021-03-19</div>
          <div class="post_content">
<p>What?  Why would these have anything to do with each other?  I don’t see how the use or non-use of FLoC offers any information about the page.</p>
<p>I guess if there were something like FLoC in which the page itself declared what topics it was about, that might be of interest to people crawling/indexing the web?  But that’s not the API that we’ve described or developed or incubated.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2391_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">awesomerobot</div>
          <div class="creation_date">2021-04-06</div>
          <div class="post_content">
<p>Will users be asked to opt-in to this tracking on the browser level?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">MichaelLysak</div>
          <div class="creation_date">2021-04-06</div>
          <div class="post_content">
<p>Bit of an odd question; I hope this is the right forum. I can’t seem to get the at the floc api in the origin trial.</p>
<p>I’ve been trying to play around with the floc origin trial and I followed this blog: <a class="inline-onebox" href="https://developer.chrome.com/blog/floc/" rel="noopener nofollow ugc">How to take part in the FLoC origin trial - Chrome Developers</a> to create a local host token. When that didn’t work I tried the instructions for settings flags. I still cannot hit document.interestCohort(). I tried browsing the floc wicg github for ideas; Is there another source of information or instructions so that I can access and test the floc api?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2692_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Sam_Dutton</div>
          <div class="creation_date">2021-04-06</div>
          <div class="post_content">
<p>Hi Michael</p>
<blockquote>
<p>I followed this blog: How to take part in the FLoC origin trial - Chrome Developers to create a local host token. When that didn’t work …</p>
</blockquote>
<p>Sorry to hear that didn’t work. What happened?</p>
<p>BTW — not the origin trial, but you can try <a href="https://floc.glitch.me" rel="noopener nofollow ugc">floc.glitch.me</a> just to see <code>document.interestCohort()</code> in action (but make sure to follow the flag instructions).</p>
<p>Sam</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
