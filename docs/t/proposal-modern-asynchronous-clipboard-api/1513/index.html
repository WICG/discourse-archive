<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Proposal: Modern, asynchronous Clipboard API</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">Proposal: Modern, asynchronous Clipboard API</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/970_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">garykac</div>
          <div class="creation_date">2016-05-16</div>
          <div class="post_content">
<p><a href="https://github.com/garykac/clipboard/blob/master/clipboard.md" rel="nofollow noopener">Asynchronous Clipboard API Proposal</a></p>
<p>The primary motivation for this proposal is to address the following issues present in the current synchronous <a href="https://www.w3.org/TR/clipboard-apis/">Clipboard API</a>:</p>
<ul>
<li>
<p>For security reasons, user agents may need to sanitize images before putting them on the clipboard. This can be time-consuming for large images so it is not reasonable to do it on the main thread. Thus, the current synchronous-nature of the current API prevents images from being supported in some UAs.</p>
</li>
<li>
<p>Synchronous APIs restrict the options for getting user permission before performing an action. Some permission models (like the <a href="https://www.w3.org/TR/permissions/">Permissions API</a>) require an async API.</p>
</li>
</ul>
<p>Similar proposals have been <a href="https://lists.w3.org/Archives/Public/public-webapps/2015JulSep/0235.html">brought up in the past</a>. In that discussion, it was suggest that we should get browsers to implement the current API before trying to modernize it. However, due to security concerns, Chrome cannot implement parts of the current spec (e.g., supporting images). Making the API asynchronous would allow Chrome to add support for these parts.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/972_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Johannes_Wilm</div>
          <div class="creation_date">2016-08-19</div>
          <div class="post_content">
<p>This looks exactly like it covers the requirements mentioned in the editing taskforce in the past by JS editor developers, so this really looks a great proposal. I also agree with your discussion about the security issues with the current setup (where is the security in letting users click arbitrary buttons to allow adding things to the clipboard the user hasn’t ever seen?) and your suggestions for improvements in that area look good.</p>
<p>However, each of those suggestions might either result in a slightly strange user experience and/or not be 100% security. For example, the “clipboard is being accessed” notification could end up looking scary to some users, while others ignore it completely. Neither one may completely understand what it means and what precautions they should take. But this is a difficult area, and there may not be any 100% perfect solution to dilemma. So I very much welcome this proposal and I hope it is merged into the Clipboard API in the near future.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/972_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Johannes_Wilm</div>
          <div class="creation_date">2016-08-19</div>
          <div class="post_content">
<p>I wonder how writeHtml would work – would it put one version in HTML and another in plaintext onto the clipboard? Will such a conversion from HTML to plaintext be the exact same in all browsers?</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
