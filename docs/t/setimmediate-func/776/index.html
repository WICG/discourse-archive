<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>setImmediate(func)</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">setImmediate(func)</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2501_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">stuartpb</div>
          <div class="creation_date">2015-03-07</div>
          <div class="post_content">
<aside class="onebox whitelistedgeneric">
<header class="source">
<img class="site-icon" height="32" src="https://developer.mozilla.org/static/img/favicon32.7f3da72dcea1.png" width="32"/>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/setImmediate" rel="nofollow noopener" target="_blank">MDN Web Docs</a>
</header>
<article class="onebox-body">
<img class="thumbnail onebox-avatar" height="500" src="https://developer.mozilla.org/static/img/opengraph-logo.72382e605ce3.png" width="500"/>
<h3><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/setImmediate" rel="nofollow noopener" target="_blank">Window.setImmediate()</a></h3>
<p>This method is used to break up long running operations and run a callback function immediately after the browser has completed other operations such as events and display updates.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>What’s the current standards track / implementation thinking on this? With the momentum that’s come up behind Promises, it seems like something like this must have been added under the hood in Firefox and Chrome. (And, of course, Node/io.js are requiring it over <code>process.nextTick()</code> “in the next version”.)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1801_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">plehegar</div>
          <div class="creation_date">2015-03-07</div>
          <div class="post_content">
<p>We never got enough traction in the webperf group to standardize it. An old draft is at <a href="http://w3c.github.io/web-performance/specs/setImmediate/Overview.html">http://w3c.github.io/web-performance/specs/setImmediate/Overview.html</a> but we never went beyond that. Look at the thread at <a href="https://lists.w3.org/Archives/Public/public-web-perf/2013Aug/0025.html">https://lists.w3.org/Archives/Public/public-web-perf/2013Aug/0025.html</a> .</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2501_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">stuartpb</div>
          <div class="creation_date">2015-03-07</div>
          <div class="post_content">
<p>What I don’t get is why nobody in those threads suggested treating an infinitely recursive setImmediate() loop the same way as browsers treat <code>while(true){}</code> now: namely, letting it run for a few seconds (without throttling), then halting the thread’s execution while the user is prompted that the tab appears to be over-working (albeit not frozen), and asked if they want to kill it. This would discourage devs from abusing setImmediate where they should be using requestAnimationFrame or something throttled like setTimeout(0), while still allowing good-actors to use it uninhibited.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2501_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">stuartpb</div>
          <div class="creation_date">2015-07-10</div>
          <div class="post_content">
<p>Is there somewhere I can suggest this be revisited? What’s involved in posting to es-discuss?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">myakura</div>
          <div class="creation_date">2015-07-16</div>
          <div class="post_content">
<p>you might want to check out <a href="http://lists.w3.org/Archives/Public/public-web-perf/2015Jun/0099.html">http://lists.w3.org/Archives/Public/public-web-perf/2015Jun/0099.html</a> and <a href="https://docs.google.com/document/d/1ZgYOBi_39-N6AbjL99qesiDagaSTbpN0R6CrSVK8NE4/edit" rel="nofollow noopener">https://docs.google.com/document/d/1ZgYOBi_39-N6AbjL99qesiDagaSTbpN0R6CrSVK8NE4/edit</a></p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
