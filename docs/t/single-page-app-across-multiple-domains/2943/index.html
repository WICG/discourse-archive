<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Single page app across multiple domains</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">Single page app across multiple domains</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2910_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">trusktr</div>
          <div class="creation_date">2018-08-18</div>
          <div class="post_content">
<p>It’d be neat if I could have a single page app that could run across domains.</p>
<p>For example, suppose I had <a href="https://foo.gg" rel="nofollow noopener">https://foo.gg</a> website about some game tool, then <a href="https://foo.blog" rel="nofollow noopener">https://foo.blog</a> for the blog. It’d be awesome to be able to switch between content of both domains as a single page app.</p>
<p>Browsers would need some way to be able to determine that the domains are owned by one party, maybe through the certificates or something. Maybe if the SSL certificates are from the same, then it can work?</p>
<p>Suppose there is <a href="https://foo.tv" rel="nofollow noopener">https://foo.tv</a> for videos, <a href="https://foo.ai" rel="nofollow noopener">https://foo.ai</a> for some techy stuff, etc, but it’s all different pages for a “website”.</p>
<p>It’d be super sweet to be able to do this without a full refresh, with dynamic routes (f.e. imagine a WebGL app with routes across multiple domains).</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3804_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">simevidas</div>
          <div class="creation_date">2018-08-18</div>
          <div class="post_content">
<p>From what I understand, CORS enables you to load content from a different domain freely. Since you own both domains, setting up the headers for this shouldn’t be an issue.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2910_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">trusktr</div>
          <div class="creation_date">2018-08-18</div>
          <div class="post_content">
<p>And I will be able to switch domains in the address bar using client-side routing, without a refresh?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3804_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">simevidas</div>
          <div class="creation_date">2018-08-18</div>
          <div class="post_content">
<p>You wrote</p>
<blockquote>
<p>It’d be awesome to be able to switch between content of both domains as a single page app.</p>
</blockquote>
<p>so I assumed it’s about the content, but it seems that what you’re really interested in is the address bar.</p>
<p>Hm, I’m not sure how this could work. How can foo.gg and foo.blog be one page? Each domain serves its own page, so there will always be two pages. If the user navigates from one domain to the other, does the new page replace the old page, or does the old page continue to operate for the new domain?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1746_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">developit</div>
          <div class="creation_date">2018-08-20</div>
          <div class="post_content">
<p>Portals would allow for this to be mostly seamless.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2910_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">trusktr</div>
          <div class="creation_date">2018-08-20</div>
          <div class="post_content">
<aside class="quote no-group" data-post="4" data-topic="2943">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/simevidas/40/1026_1.png" width="20"/> simevidas:</div>
<blockquote>
<p>does the new page replace the old page, or does the old page continue to operate for the new domain?</p>
</blockquote>
</aside>
<p>The old page continues to operate for the new domain, with client-side routing. It’d be just like when the <code>/path</code> changes in single-page apps, and the web app can change what the content is doing dynamically, with no refresh. That’s what I’d like to do, but instead of the address bar showing a new path it may show a new domain, without interrupting any animations that are happening in the web app. The same JavaScript context would still be in play, the same DOM, etc.</p>
<aside class="quote no-group" data-full="true" data-post="5" data-topic="2943">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/developit/40/1746_1.png" width="20"/> developit:</div>
<blockquote>
<p>Portals would allow for this to be mostly seamless</p>
</blockquote>
</aside>
<p>What would I google to find more info?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3804_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">simevidas</div>
          <div class="creation_date">2018-08-20</div>
          <div class="post_content">
<aside class="quote no-group" data-post="6" data-topic="2943">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/trusktr/40/498_1.png" width="20"/> trusktr:</div>
<blockquote>
<p>What would I google to find more info?</p>
</blockquote>
</aside>
<p>See <a href="https://groups.google.com/a/chromium.org/d/msg/blink-dev/SgsbpO08AeI/ZyDL6r5FBgAJ" rel="nofollow noopener">https://groups.google.com/a/chromium.org/d/msg/blink-dev/SgsbpO08AeI/ZyDL6r5FBgAJ</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2910_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">trusktr</div>
          <div class="creation_date">2018-08-21</div>
          <div class="post_content">
<p>That seems hacky.</p>
<p>It’d be super cool to have a single app, with client side routing across domains. Basically, treating <code>foo.blog</code> and <code>goo.tv</code> as if they were <code>foo.com/blog</code> and <code>foo.com/tv</code>, and letting my app do whatever it wants with it’s DOM.</p>
<p>In this scenario, loading <code>foo.tv</code> or <code>foo.blog</code> would send an equivalent initial payload containing the app code, then client side routing would take over and show content as appropriate based on the current route (just like regular SPAs). In fact, hitting either <code>foo.tv</code> or <code>foo.blog</code> would hit the same server, same IP address, same endpoints. It’s just treating <code>.tv/whatever</code> and <code>.blog/whatever</code> as paths.</p>
<p>With the new gTLDs, this could be an interesting feature. It would also make it easy to make SPAs on subdomains, f.e. <code>tv.foo.com</code> and <code>blog.foo.com</code> in the same SPA, one DOM, one <code>window</code> context.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3804_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">simevidas</div>
          <div class="creation_date">2018-08-21</div>
          <div class="post_content">
<p>Note that the subdomain scenario is different: <code>tv.foo.com</code> and <code>blog.foo.com</code> are <em>same site</em> since they have the same registrable domain (<code>foo.com</code>).</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2910_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">trusktr</div>
          <div class="creation_date">2018-09-06</div>
          <div class="post_content">
<p>It still requires a full page refresh to switch between websites on sub domains though right?</p>
<p>It definitely would be cool for browsers letting us switch subdomains with the <code>History</code> API without refresh.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
