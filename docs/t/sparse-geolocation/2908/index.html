<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Sparse Geolocation</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Saturday February 24, 2024.</div>
    <h1 class="topic-title">Sparse Geolocation</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">OpenLocationServices</div>
          <div class="creation_date">2018-08-03</div>
          <div class="post_content">
<p>Right now websites and webapps have to use the user’s i.p address to get the approximate geolocation and localize content on websites. Getting the exact Geolocation requires a permission and in many cases a high accuracy is not even required.</p>
<p>What we propose that websites can get the approximate Geolocation of the user within approx 2000M-5000M radius without a permission prompt.
This means that websites no longer have to rely on i.p addresses to provide local and relevant content.</p>
<p>What are the benefits of such a thing which at first glance seems to blatantly violate user privacy?</p>
<ol>
<li>
<p>Today’s websites have to rely on 3rd party AdNetworks to provide localized ads and generate revenue. First party ads that are not localized do not pay well. As a result websites embed all sorts of 3rd party scripts from Facebook, Google, Amazon because these companies already have your location data with pinpoint accuracy. Giving websites approximate geolocation will level the artificially high playing ground to serve first party ads. 3rd party ads in my subjective opinion are a worse violation of user privacy than first party ads.</p>
</li>
<li>
<p>GeoIP databases cost money, for a basic service. This will reduce the artificial costs.</p>
</li>
<li>
<p>Newspapers that would like to serve locally relevant content have to ask for permission. An average user reads 15+ different news papers in a month it gets annoying. When it is the time to make a great first impression, news papers cannot do so.</p>
</li>
</ol>
<p>Overall there is no loss in privacy as compared to the situation now. This possibly might be a better thing because if 1st party ads gain traction and reduce middleman fee websites are no longer held hostages by Facebook and Google to give up their own customer data if they want to serve ads, because there exists no choice right now.</p>
<p>Printed newspapers have always been able to target ads based on geolocation. This is not a violation of privacy. The violation of privacy is when you start serving ads based on browsing history.</p>
<p>In Incognito mode or Privacy mode this could be turned off by default.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/658_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AshleyScirra</div>
          <div class="creation_date">2018-08-06</div>
          <div class="post_content">
<p>There is a major loss of privacy. If you use a proxy deliberately to hide your IP address, and therefore obscure your country of origin, then this proposal gives you away again with no permission prompt. There must be a permission prompt to give away this information, even inaccurrately.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">OpenLocationServices</div>
          <div class="creation_date">2018-08-06</div>
          <div class="post_content">
<aside class="quote no-group" data-post="2" data-topic="2908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/ashleyscirra/40/658_1.png" width="20"/> AshleyScirra:</div>
<blockquote>
<p>There must be a permission prompt to give away this information, even inaccurrately.</p>
</blockquote>
</aside>
<p>Then what is the incentive to use less-accurate geo-location instead of exact geolocation when it is not required?</p>
<aside class="quote no-group" data-post="2" data-topic="2908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/ashleyscirra/40/658_1.png" width="20"/> AshleyScirra:</div>
<blockquote>
<p>There is a major loss of privacy. If you use a proxy deliberately to hide your IP address, and therefore obscure your country of origin, then this proposal gives you away again with no permission prompt.</p>
</blockquote>
</aside>
<p>This problem is solvable with heuristics. VPN/Proxy users usually use incognito mode to attempt to hide their location.</p>
<p>Basic solution I can think of:</p>
<ol>
<li>Deactivate it incognito/privacy mode</li>
<li>If i.p address is not in the same country as the location detected by the browser vendor’s geolocation service on the basis of GPS sensors/Networks, do not give out the location.</li>
</ol>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3066_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jhpratt</div>
          <div class="creation_date">2018-08-07</div>
          <div class="post_content">
<p>While in a city a 5km limit (the high end of your range) would be more than sufficient to anonymize someone, in rural areas that is nowhere near the case. I’d estimate there are less than 1,000 people living within 5km of me; that combined with other info would be trivial to identify me personally.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">OpenLocationServices</div>
          <div class="creation_date">2018-08-07</div>
          <div class="post_content">
<aside class="quote no-group" data-full="true" data-post="4" data-topic="2908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/jhpratt/40/1422_1.png" width="20"/> jhpratt:</div>
<blockquote>
<p>While in a city a 5km limit (the high end of your range) would be more than sufficient to anonymize someone, in rural areas that is nowhere near the case. I’d estimate there are less than 1,000 people living within 5km of me; that combined with other info would be trivial to identify me personally.</p>
</blockquote>
</aside>
<p>You make a great argument. There is a lot more research needed to do this to clear out the edge cases.</p>
<p>So far there are now 3 basic measures that would be needed to be taken.</p>
<ol>
<li>Disable it in incognito/privacy mode.</li>
<li>If i.p address is not in the same country as the location detected by the browser vendor’s geolocation service on the basis of GPS sensors/Networks, do not give out the location.</li>
<li>If the detected geolocation is not in a city, expand the radius to 50km.</li>
</ol>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/690_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">npdoty</div>
          <div class="creation_date">2018-08-09</div>
          <div class="post_content">
<p>I think the more typical name for this functionality would be “coarse geolocation” (rather than “sparse”).</p>
<p>I think it’s an interesting idea, and there could be a user benefit. There are also privacy implications, especially if implementations were considering turning this on by default. A user agent doesn’t always know if a user is using a VPN or other anonymizing device on IP address, and the IP address might not always be revealing coarse geolocation and so users could be revealing new information in surprising and unfortunate ways.</p>
<p>On the other hand, having it entirely opt-in might not provide enough usage that sites or user agents were interested.</p>
<p>One way forward might be to use the existing model of a permission for geolocation request, and allow it to be parameterized on precision of information. And then users who didn’t mind could configure their browsers to automatically say yes to coarse geolocation requests, or use other heuristics to determine when to approve.</p>
<p>The Geolocation Sensor spec is currently just getting started, and this would be a good time to provide that kind of feedback and input. One challenge would be in providing a reasonable way for a user agent to provide less precise geolocation data in a way that wasn’t misinterpreted by sites as precise data that just happens to be at an integer lat/lon location.</p>
<p><a class="onebox" href="https://w3c.github.io/geolocation-sensor/" target="_blank">https://w3c.github.io/geolocation-sensor/</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">OpenLocationServices</div>
          <div class="creation_date">2018-08-09</div>
          <div class="post_content">
<aside class="quote no-group" data-post="6" data-topic="2908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/npdoty/40/690_1.png" width="20"/> npdoty:</div>
<blockquote>
<p>One challenge would be in providing a reasonable way for a user agent to provide less precise geolocation data in a way that wasn’t misinterpreted by sites as precise data that just happens to be at an integer lat/lon location.</p>
</blockquote>
</aside>
<p>You make an important point and this needs to be figured our using a combination of heuristics/user input.</p>
<aside class="quote no-group" data-post="6" data-topic="2908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/npdoty/40/690_1.png" width="20"/> npdoty:</div>
<blockquote>
<p>One way forward might be to use the existing model of a permission for geolocation request, and allow it to be parameterized on precision of information.And then users who didn’t mind could configure their browsers to automatically say yes to coarse geolocation requests,  or use other heuristics to determine when to approve.</p>
</blockquote>
</aside>
<p>The power of defaults is that most of the time i’ll be off. If it is off in most of the traffic, it is next to useless.
“parameterized on precision of information.” - this should be set by the website, not the user. If the website requires the exact location, that user should not have the choice to change the parameter, but should be asked yes/no. If it requires a  “coarse geolocation” as you say, then a permission prompt should not be necessary, to facilitate its usage and promote the feature.</p>
<p>In the end if you want to win on privacy, you have to make non-artificial economical incentives to support it. The more you require permission on coarse geolocation, which has a negligible privacy impact if implemented properly, the lower is the adoption rate, hence 3rd party ads will stay.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/690_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">npdoty</div>
          <div class="creation_date">2018-08-09</div>
          <div class="post_content">
<aside class="quote no-group" data-post="7" data-topic="2908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/letter_avatar_proxy/v2/letter/o/4af34b/40.png" width="20"/> OpenLocationServices:</div>
<blockquote>
<p>The power of defaults is that most of the time i’ll be off. If it is off in most of the traffic, it is next to useless. “parameterized on precision of information.” - this should be set by the website, not the user. If the website requires the exact location, that user should not have the choice to change the parameter, but should be asked yes/no. If it requires a “coarse geolocation” as you say, then a permission prompt should not be necessary, to facilitate its usage and promote the feature.</p>
</blockquote>
</aside>
<p>Yes, parameterization is typically done by the requesting site. For example, Android apps can request either coarse location or fine location permissions, and the difference is reflected in how permissions prompts are provided to end users. The ability for web sites to indicate whether they want precise location or coarse location would be great for data minimization – sites can ask for only what they actually need.</p>
<p>I recognize that you personally believe that browsers should implement coarse location in such a way that by default users are not notified and do not need to give permission for access to coarse location. I think you may find that many people would disagree with that prioritization, especially when revealing location (even coarse location) may be unexpected and harmful to some end users. But often the default settings regarding permissions (when they are requested, how long they persist, how they are managed by the end user, etc.) don’t need to be resolved in the standardization process. If the capability is specced out, then user agents can provide their own systems, including heuristics and user preferences, to determine when a user might want to explicitly give permission and when they might not.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">OpenLocationServices</div>
          <div class="creation_date">2018-08-11</div>
          <div class="post_content">
<aside class="quote no-group" data-post="8" data-topic="2908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/user_avatar/discourse.wicg.io/npdoty/40/690_1.png" width="20"/> npdoty:</div>
<blockquote>
<p>I recognize that you personally believe that browsers should implement coarse location in such a way that by default users are not notified and do not need to give permission for access to coarse location. I think you may find that many people would disagree with that prioritization, especially when revealing location (even coarse location) may be unexpected and harmful to some end users. But often the default settings regarding permissions (when they are requested, how long they persist, how they are managed by the end user, etc.) don’t need to be resolved in the standardization process. If the capability is specced out, then user agents can provide their own systems, including heuristics and user preferences, to determine when a user might want to explicitly give permission and when they might not.</p>
</blockquote>
</aside>
<p>What ever happens, there needs to be a guarantee that UA’s should allow them by default. We do not want this to end up like the poorly implemented DNT standard. When Microsoft enabled the DNT header by default in Internet Explorer, it was doomed to fail because that was not the average users choice, and was not financially possible for the web. Any non-tracking / user privacy supporting standards that the W3C makes should first look at the economic/financial impact. Walled garden apps like facebook and companies like Google will face little to no impact because of W3C/WHATWG’s incentives to put the users/privacy first. What will happen in the end is that smaller/niche websites that one day hope to grow big and writers that hope to make their blogs their primary source of income on the internet wont see the day because of  this. It will end up hurting the smaller players and news publishers instead of what we aim to achieve.</p>
<p>If a tiny web browser ends up blocking it by default, it wont matter. But if mainstream browsers like google chrome, firefox (maybe not), safari end up blocking by default, it will completely destroy it.</p>
<p>DuckDuckGo’s non-tracking model will not work for the rest of the web (excluding Social Networks, and Search Engines) because they have 1st party knowledge of your data, Other websites that the SE’s/SN’s link will not/can not have first party data.</p>
<p>There should be a trade-off between privacy and financial incentives for the web to survive.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
