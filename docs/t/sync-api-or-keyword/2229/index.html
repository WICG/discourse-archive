<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Sync api or keyword</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">Sync api or keyword</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pinkos</div>
          <div class="creation_date">2017-07-07</div>
          <div class="post_content">
<p>We need a simple api permitting to convert a async function to a synchronous function. Example:</p>
<pre><code>async function toBlob(file) {
 var r= await (new Promise(function(s,e){
 var reader = new FileReader();

reader.onloadend = function(e) {
  s(new Blob([ this.result ], { type: file.type } ));
};

reader.readAsArrayBuffer(file);
}))
return r;
}

sync(toBlob(file)) return directly the blob 
//use blob in synchronous way</code></pre>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/658_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AshleyScirra</div>
          <div class="creation_date">2017-07-07</div>
          <div class="post_content">
<p>Sync functions block the main thread locking up the browser UI, and cannot use multi-core CPUs so have a much lower performance limit. It’s much better to write async code, and new language features like <code>await</code> make it easier since your code looks more like sync code.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3804_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">simevidas</div>
          <div class="creation_date">2017-07-08</div>
          <div class="post_content">
<p>Could you explain why <code>async</code>/<code>await</code> doesn’t work for you?</p>
<pre><code class="lang-auto">let blob = await toBlob(file);
</code></pre>
<p>I haven’t tried it myself, but I think “switching to async” should be as easy as wrapping your program in an immediately-invoked <code>async</code> function.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pinkos</div>
          <div class="creation_date">2017-07-11</div>
          <div class="post_content">
<p>because once apon a time there a man told synchronous is different from asynchronous</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/302_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tabatkins</div>
          <div class="creation_date">2017-07-11</div>
          <div class="post_content">
<p>What?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pinkos</div>
          <div class="creation_date">2017-07-14</div>
          <div class="post_content">
<p>we know it. but this one doesnt mean you can t use it in special block code. There is not a wrong api , there is a wrong developer. Eventually there is a api bad designed or working… but this it is another story</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pinkos</div>
          <div class="creation_date">2017-07-14</div>
          <div class="post_content">
<p>if you use a library with 50.000 lines you can really switch to async function? and then if there is a block code waiting to collect data waiting  for a millisecond i dont see where is the problem for a browser view.
async and sync might be dicotomy necessary for developement.
There is no dogma in computer science but just intelligent solutions related by what you are writing.</p>
<p>For example introduce url:blob://… instead is wrong. In this case is absoutely wrong for a language with garbage collector and for a language used for rendering html. It is a grave error in the design because it can create memory leaks.
So it seams w3c uses many times dogma where is not necessary, and dont use it when it is necessary.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
