<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Install Time Permissions Prompt</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">Install Time Permissions Prompt</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/954_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AaronGustafson</div>
          <div class="creation_date">2020-03-04</div>
          <div class="post_content">
<p>An increasing number of sensitive APIs have been added to the web platform. To ensure user privacy is protected, these APIs are restricted to secure origins and typically require an explicit user permissions grant in order for the API to be available to a given domain. As web applications have become more advanced, these permissions request prompts have proliferated. This proliferation has led to users having “permissions request fatigue,” the major symptom of which is a compulsive denial permissions prompts, especially if the prompt is non-contextual or if several requests are shown in rapid succession. This situation is problematic for many applications that rely on these sensitive APIs to function (e.g., a video conferencing app not being granted access to the camera and microphone).</p>
<p>As web apps are continuing to evolve, some of the capabilities they need—run on user login, for instance—only make sense when a website is installed as an app (PWA). Additionally, there is some interest in loosening storage restrictions for installed websites to enable experiences like offline media consumption.</p>
<p>All of these considerations point to a need for some form of bulk permission request, which should be provided as part of the installation experience.</p>
<p><a href="https://github.com/MicrosoftEdge/MSEdgeExplainers/blob/master/InstallTimePermissionsPrompt/Explainer.md" rel="nofollow noopener">Read the Explainer</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/954_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AaronGustafson</div>
          <div class="creation_date">2020-03-04</div>
          <div class="post_content">
<p><span class="mention">@slightlyoff</span> mentioned there is some interest in batch permissions requests related to the Permissions API as well, so this would overlap with that work (which I think falls under Web App Security).</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jesup</div>
          <div class="creation_date">2020-03-10</div>
          <div class="post_content">
<p>You should also contrast and compare to the getUserMedia/etc device permissions API/UI in prior art, and also consider how to minimize the number of different ways the same requests are presented to users.  Also discuss why and how this resolves the issues seen in pre-Android-6.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/954_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AaronGustafson</div>
          <div class="creation_date">2020-03-10</div>
          <div class="post_content">
<aside class="quote no-group" data-post="3" data-topic="4284" data-username="jesup">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/letter_avatar_proxy/v4/letter/j/45deac/40.png" width="20"/> jesup:</div>
<blockquote>
<p>You should also contrast and compare to the getUserMedia/etc device permissions API/UI in prior art</p>
</blockquote>
</aside>
<p>Not sure I follow. Could you expand on this?</p>
<aside class="quote no-group" data-post="3" data-topic="4284" data-username="jesup">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/letter_avatar_proxy/v4/letter/j/45deac/40.png" width="20"/> jesup:</div>
<blockquote>
<p>consider how to minimize the number of different ways the same requests are presented to users.</p>
</blockquote>
</aside>
<p>How do you mean? In terms of the actual user interface or the overall user experience or both? We have <a href="https://github.com/MicrosoftEdge/MSEdgeExplainers/blob/master/InstallTimePermissionsPrompt/Explainer.md#user-interface" rel="nofollow noopener">some detail in the Explainer</a> about how permissions requests in the install/first-run experience will interact with permissions that have already been granted or denied as well.</p>
<aside class="quote no-group" data-post="3" data-topic="4284" data-username="jesup">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/letter_avatar_proxy/v4/letter/j/45deac/40.png" width="20"/> jesup:</div>
<blockquote>
<p>Also discuss why and how this resolves the issues seen in pre-Android-6.</p>
</blockquote>
</aside>
<p>This is covered in <a href="https://github.com/MicrosoftEdge/MSEdgeExplainers/blob/master/InstallTimePermissionsPrompt/Explainer.md#prior-art" rel="nofollow noopener">the Prior Art section</a>.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jesup</div>
          <div class="creation_date">2020-03-10</div>
          <div class="post_content">
<p>Media permission prompts can already ask for multiple permissions at once (audio and video).  These are requested typically at the time of usage; Chrome defaults to saving the permissions forever until revoked; Firefox defaults to not saving them unless a positive user action is taken (“Remember this decision”).
<img alt="mediarequest" data-base62-sha1="uqrCFyHs5ZgiHJJyLhiJ90gQues" height="306" src="//discourse.wicg.io/uploads/default/original/2X/d/d53e82043ca95ecdfbbdba57f62e35b844511918.png" width="436"/><br/>
This is clearly in the area of ‘prior art’ for this request.  There are differences (such as selecting a device, which your proposal doesn’t cover.)</p>
<p>Minimizing the different ways prompts are presented to users basically is: ensure that this proposed UI/API leads to an experience for the user which isn’t disjoint or confusing.  (Actual UI is the job of the UA, but the API has to support the right set of options.)   For example: the way Chrome remembers permissions unless explicitly revoked (at least for media), but Firefox explicitly doesn’t, and so may prompt-on-use more often.   And then there’s the interaction with the OS, which may (on Android) ask if an app is allowed to access media devices (on first use).   I.e. I think it needs a more detailed discussion of the issues and options and ways in which permissions are presented to the user, not just this set in a vacuum.</p>
<p>Lastly, you show the pre-android-6 usage, but you just describe it and why it was a problem.   You don’t explain why this doesn’t have that same sort of problem, since on the surface you’re instantiating a similar permission flow.  (I think I know what the answer would be, but you need to be the one making it.)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/954_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AaronGustafson</div>
          <div class="creation_date">2020-03-11</div>
          <div class="post_content">
<aside class="quote no-group" data-post="5" data-topic="4284" data-username="jesup">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/letter_avatar_proxy/v4/letter/j/45deac/40.png" width="20"/> jesup:</div>
<blockquote>
<p>Media permission prompts can already ask for multiple permissions at once (audio and video). These are requested typically at the time of usage; Chrome defaults to saving the permissions forever until revoked; Firefox defaults to not saving them unless a positive user action is taken (“Remember this decision”).
This is clearly in the area of ‘prior art’ for this request. There are differences (such as selecting a device, which your proposal doesn’t cover.)</p>
</blockquote>
</aside>
<p>Oh interesting. I rarely use websites for conferencing, so I had not noticed this in my own web usage. It’s also interesting to hear that Firefox has implemented a batch permissions request as I was aware that folks at Mozilla had been generally against the idea. I’ll add this to the prior art section.</p>
<aside class="quote no-group" data-post="5" data-topic="4284" data-username="jesup">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/letter_avatar_proxy/v4/letter/j/45deac/40.png" width="20"/> jesup:</div>
<blockquote>
<p>Minimizing the different ways prompts are presented to users basically is: ensure that this proposed UI/API leads to an experience for the user which isn’t disjoint or confusing. (Actual UI is the job of the UA, but the API has to support the right set of options.) For example: the way Chrome remembers permissions unless explicitly revoked (at least for media), but Firefox explicitly doesn’t, and so may prompt-on-use more often. And then there’s the interaction with the OS, which may (on Android) ask if an app is allowed to access media devices (on first use). I.e. I think it needs a more detailed discussion of the issues and options and ways in which permissions are presented to the user, not just this set in a vacuum.</p>
</blockquote>
</aside>
<p>I think what a UA chooses to do with a permission (in terms of persistence or lack thereof) should be up to each individual UA. This explainer certainly would not be the right pace to define it. Perhaps the W3C PING is?</p>
<aside class="quote no-group" data-post="5" data-topic="4284" data-username="jesup">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="//discourse.wicg.io/letter_avatar_proxy/v4/letter/j/45deac/40.png" width="20"/> jesup:</div>
<blockquote>
<p>Lastly, you show the pre-android-6 usage, but you just describe it and why it was a problem. You don’t explain why this doesn’t have that same sort of problem, since on the surface you’re instantiating a similar permission flow. (I think I know what the answer would be, but you need to be the one making it.)</p>
</blockquote>
</aside>
<p>Totally my mistake, I have another internal document that goes into more detail. I thought I had already included that information and will update the Explainer accordingly.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/954_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AaronGustafson</div>
          <div class="creation_date">2020-03-11</div>
          <div class="post_content">
<p>I have updated <a href="https://github.com/MicrosoftEdge/MSEdgeExplainers/blob/master/InstallTimePermissionsPrompt/Explainer.md#prior-art" rel="nofollow noopener">the prior art section of the Explainer</a>.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
