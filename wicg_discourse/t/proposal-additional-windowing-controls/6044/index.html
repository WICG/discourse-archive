<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[Proposal] Additional Windowing Controls</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">[Proposal] Additional Windowing Controls</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3987_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">ivansandrk</div>
          <div class="creation_date">2022-11-23</div>
          <div class="post_content">
<p>Full explainer available <a href="https://github.com/ivansandrk/additional-windowing-controls/blob/main/awc-explainer.md" rel="noopener nofollow ugc">here</a></p>
<h2>
<a class="anchor" href="#introduction-1" name="introduction-1"></a>Introduction</h2>
<p>This proposal introduces additional ways for web applications to introspect and control their windows, to enable critical window management functionality on the web platform.</p>
<p>The proposed enhancement would allow web applications to maximize, minimize, and restore their windows and introspect that window display state. Further, it allows applications to be notified when the window is repositioned, and control whether the window can be resized. The <a href="https://webscreens.github.io/window-placement/#api-permissions" rel="noopener nofollow ugc">window placement permission</a> will be required for these capabilities.</p>
<h2>
<a class="anchor" href="#problem-and-use-cases-2" name="problem-and-use-cases-2"></a>Problem and Use Cases</h2>
<p><a href="https://en.wikipedia.org/wiki/Desktop_virtualization" rel="noopener nofollow ugc">Virtual Desktop Infrastructure</a> (VDI) web clients have limited abilities to integrate remote application windows with the local desktop environment, which creates suboptimal experiences for their users. Currently, they can only present full disjoint remote desktop environments (e.g. in a local fullscreen window), or present individual remote applications in separate local windows with titlebar window controls that are inoperative, redundant, and confusing for users.</p>
<p><img alt="" height="453" src="https://raw.githubusercontent.com/ivansandrk/additional-windowing-controls/main/image1.png" width="624"/></p>
<p>Remote window presented within a local window</p>
<p>Several VDI clients, including Citrix and VMWare, have reported that their users strongly desire an integrated experience as their work is increasingly happening both on local client and remote host devices.</p>
<p>Unfortunately, the web platform offers no means for web applications to signal the user agent when users interact with remote application (or custom) window controls. Further, web applications cannot introspect the local window’s display state, and must poll for local window position changes. These platform gaps create disconnects between local and remote windows, and prevent web VDI clients from offering functionality expected by users.</p>
<p>These missing capabilities also prevent a broader set of web applications from offering compelling window management experiences for their users.</p>
<h2>
<a class="anchor" href="#proposal-3" name="proposal-3"></a>Proposal</h2>
<p>This proposal seeks to enable local web applications to convey a user’s intended window control interactions with remote (or custom) window controls. Summary of the API proposals, which are generally gated by Window Management (“window-placement”) permission:</p>
<ul>
<li>
<code>await window.minimize()/maximize()/restore()</code> changes the window display state</li>
<li>
<code>window.displayState</code> yields the current display state</li>
<li>
<code>window.ondisplaystatechange</code> event is fired when the window display state changes</li>
<li>
<code>window.onmove</code> event is fired when the window moves</li>
<li>
<code>await window.setResizable(bool)</code> sets whether the window is user resizable</li>
<li>
<code>window.resizable</code> yields whether the window is user resizable</li>
</ul>
<p>Use cases explored here also rely upon a <a href="https://github.com/w3c/csswg-drafts/issues/7017" rel="noopener nofollow ugc">parallel effort to standardize</a> the existing CSS property -webkit-app-region/app-region.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
