<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[Proposal] Back Button Media Query</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">[Proposal] Back Button Media Query</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dntbrsnbl</div>
          <div class="creation_date">2019-08-09</div>
          <div class="post_content">
<p>This API is being proposed as a way to eliminate the “double back button” problem (seen <a href="https://github.com/fallaciousreasoning/backbutton-mediaquery/blob/master/images/double-back-button.jpg" rel="nofollow noopener">here</a>, on Twitters PWA in the Microsoft store). This problem arises because developers of <a href="https://www.w3.org/TR/appmanifest/#display-modes"> <code>"standalone"</code> ,  <code>"fullscreen"</code> , and  <code>"minimal-ui"</code> </a> apps have no way of determining whether a back button will be provided by the user agent (the browser, OS, or hardware), and so, are forced to implement their own, to ensure that their app is functional without the browser’s UI.</p>
<p>This will allow apps to avoid the “double back button” problem by letting them conditionally display a back button depending on whether the user agent is already displaying one. Adding a standard way to detect this means that we can avoid user-agent and viewport-size workarounds, which are not ideal for web compatibility.</p>
<p>More detail is available in the <a href="https://github.com/fallaciousreasoning/backbutton-mediaquery/blob/master/explainer.md" rel="nofollow noopener">explainer</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dntbrsnbl</div>
          <div class="creation_date">2019-08-09</div>
          <div class="post_content">
<p>Note: Microsoft has expressed interest in experimenting with this API <a href="https://github.com/fallaciousreasoning/backbutton-mediaquery/issues/4" rel="nofollow noopener">https://github.com/fallaciousreasoning/backbutton-mediaquery/issues/4</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1395_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vincentriemer</div>
          <div class="creation_date">2019-08-09</div>
          <div class="post_content">
<p>I’m not necessarily opposed to this, but couldn’t an alternative solution be some way to tell the user agent that it doesn’t need to render a back button if the app has its own?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dntbrsnbl</div>
          <div class="creation_date">2019-08-09</div>
          <div class="post_content">
<p>I think this is part of a solution. Generally, we prefer not to tell browsers how their UI should look, so a spec for requesting buttons would probably say that a browser <strong>SHOULD</strong> show/hide a button, rather than that they <strong>MUST</strong> show/hide a button. In this case, I think the media query would still be useful to let sites know if the browser has respected their request.</p>
<p>We are considering an API like the one you describe (perhaps declaring buttons in the manifest) but we haven’t put together an explainer :).</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1573_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">frivoal</div>
          <div class="creation_date">2019-08-09</div>
          <div class="post_content">
<p>This looks like a reasonable proposal to me. As a co-editor of Media Queries, I would encourage you to raise this as an issue against the specification, at <a href="https://github.com/w3c/csswg-drafts/issues" rel="nofollow noopener">https://github.com/w3c/csswg-drafts/issues</a>.</p>
<p>(No strong opinion either way from me on the API)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dntbrsnbl</div>
          <div class="creation_date">2019-08-12</div>
          <div class="post_content">
<p>Cool, I’ve created <a href="https://github.com/w3c/csswg-drafts/issues/4187" rel="nofollow noopener">https://github.com/w3c/csswg-drafts/issues/4187</a> <img alt=":slight_smile:" class="emoji" src="//discourse.wicg.io/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
