<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[Proposal] Support &ldquo;name&rdquo; attribute in &lt;details&gt; for pure HTML &ldquo;only-one&rdquo; accordions</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">[Proposal] Support &ldquo;name&rdquo; attribute in &lt;details&gt; for pure HTML &ldquo;only-one&rdquo; accordions</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">fitzsim</div>
          <div class="creation_date">2023-11-27</div>
          <div class="post_content">
<p><strong>Proposal</strong>: Add a <em>name</em> attribute to the <code>&lt;details&gt;</code> element, for
example, <code>&lt;details name="group-1"&gt;</code>.  If multiple <code>&lt;details&gt;</code> elements in
a page have the same value for their <em>name</em> attribute, then
expanding/opening/disclosing a <code>&lt;details&gt;</code> element of that <em>name</em> will
collapse/close/undisclose all the other <code>&lt;details&gt;</code> elements with a
matching <em>name</em>.</p>
<p>This is analogous to how a group of <code>&lt;input type="radio" name="group-1"&gt;</code>
elements works.  On the contemporary web, radio inputs can and are used
to implement pure HTML+CSS only-one accordions; however semantically they
are a hack.</p>
<p>Often one wants to express a list of <code>&lt;details&gt;</code>/<code>&lt;summary&gt;</code> with the
ability to disclose one element and undisclose the others automatically.
This addition of a <em>name</em> attribute to the <code>&lt;details&gt;</code> element would
achieve that user experience in pure HTML while maintaining the intended
document semantics.</p>
<p>The attribute could alternately be called <em>group</em> or something else;
<em>name</em> is used in this demonstration to match the radio input grouping
attribute.</p>
<p>A minimal demonstration implemented in JavaScript is live at
<a href="https://www.fitzsim.org/details-name-prototype.html" rel="noopener nofollow ugc">https://www.fitzsim.org/details-name-prototype.html</a>.</p>
<p>An equivalent radio-input-based approach which works on the contemporary web is
available at
<a href="https://www.fitzsim.org/radio-accordion-example.html" rel="noopener nofollow ugc">https://www.fitzsim.org/radio-accordion-example.html</a>.
It shows that the HTML and CSS need to be full of hacks to achieve
the same effect as would a <code>&lt;details&gt;</code> <em>name</em> attribute.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2421_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">marcosc</div>
          <div class="creation_date">2023-11-28</div>
          <div class="post_content">
<p>Spoke to a few people, and this appears to be covered by:
</p><aside class="onebox githubpullrequest" data-onebox-src="https://github.com/whatwg/html/pull/9400">
<header class="source">
<a href="https://github.com/whatwg/html/pull/9400" rel="noopener" target="_blank">github.com/whatwg/html</a>
</header>
<article class="onebox-body">
<div class="github-row">
<div class="github-icon-container" title="Pull Request">
<svg aria-hidden="true" class="github-icon" height="60" viewbox="0 0 12 16" width="60"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z" fill-rule="evenodd"></path></svg>
</div>
<div class="github-info-container">
<h4>
<a href="https://github.com/whatwg/html/pull/9400" rel="noopener" target="_blank">Add name attribute for grouping details elements into an exclusive accordion</a>
</h4>
<div class="branches">
<code>whatwg:main</code> ← <code>dbaron:add-details-name</code>
</div>
<div class="github-info">
<div class="date">
          opened <span class="discourse-local-date" data-date="2023-06-07" data-format="ll" data-time="13:59:20" data-timezone="UTC">01:59PM - 07 Jun 23 UTC</span>
</div>
<div class="user">
<a href="https://github.com/dbaron" rel="noopener" target="_blank">
<img alt="dbaron" class="onebox-avatar-inline" height="20" src="https://avatars.githubusercontent.com/u/248721?v=4" width="20"/>
            dbaron
          </a>
</div>
<div class="lines" title="14 commits changed 1 files with 261 additions and 16 deletions">
<a href="https://github.com/whatwg/html/pull/9400/files" rel="noopener" target="_blank">
<span class="added">+261</span>
<span class="removed">-16</span>
</a>
</div>
</div>
</div>
</div>
<div class="github-row">
<p class="github-body-container">&lt;!--
Thank you for contributing to the HTML Standard! Please describe the change<span class="show-more-container"><a class="show-more" href="https://github.com/whatwg/html/pull/9400" rel="noopener" target="_blank">…</a></span><span class="excerpt hidden"> you are making and complete the checklist below if your change is not editorial.
--&gt;

This PR adds a `name` attribute to the `details` element.  This has been discussed a bit in the [Open UI Community Group](https://open-ui.org/) and I've written an [explainer](https://open-ui.org/components/accordion.explainer) for it.

This work began as part of the followup work after [pausing work on CSS Toggles](https://docs.google.com/document/d/10JxXgeDAJ5zerOdxoWM9ZU9d5iMOdzGJt0EhlhkOkxM/edit).  For some recent discussions in the Open UI Comunity Group, see [May 25 minutes](https://www.w3.org/2023/05/25-openui-minutes#t02) and [June 1 minutes](https://www.w3.org/2023/06/01-openui-minutes#t03) for recent discussions.

- [X] At least two implementers are interested (and none opposed):
   * Chromium (see prototyping work in https://crbug.com/1444057)
   * Mozilla (see mozilla/standards-positions#831)
   * WebKit (see WebKit/standards-positions#209)
- [X] [Tests](https://github.com/web-platform-tests/wpt) are written and can be reviewed and commented upon at:
   * https://wpt.fyi/results/html/semantics/interactive-elements/the-details-element/name-attribute.tentative.html (created in web-platform-tests/wpt#39925 and web-platform-tests/wpt#40065)
- [x] [Implementation bugs](https://github.com/whatwg/meta/blob/main/MAINTAINERS.md#handling-pull-requests) are filed:
   * Chromium: https://crbug.com/1444057
   * Gecko: https://bugzilla.mozilla.org/show_bug.cgi?id=1856460
   * WebKit: https://bugs.webkit.org/show_bug.cgi?id=260893
- [ ] [MDN issue](https://github.com/whatwg/meta/blob/main/MAINTAINERS.md#handling-pull-requests) is filed: …

(See [WHATWG Working Mode: Changes](https://whatwg.org/working-mode#changes) for more details.)


&lt;!--
    This comment and the below content is programmatically generated.
    You may add a comma-separated list of anchors you'd like a
    direct link to below (e.g. #idl-serializers, #idl-sequence):

    Don't remove this comment or modify anything below this line.
    If you don't want a preview generated for this pull request,
    just replace the whole of this comment's content by "no preview"
    and remove what's below.
--&gt;
***
&lt;a href="https://whatpr.org/html/9400/dom.html" title="Last updated on Oct 2, 2023, 9:40 PM UTC (e3ede80)"&gt;/dom.html&lt;/a&gt;  ( &lt;a href="https://whatpr.org/html/9400/d6ce12a...e3ede80/dom.html" title="Last updated on Oct 2, 2023, 9:40 PM UTC (e3ede80)"&gt;diff&lt;/a&gt; )
&lt;a href="https://whatpr.org/html/9400/dynamic-markup-insertion.html" title="Last updated on Oct 2, 2023, 9:40 PM UTC (e3ede80)"&gt;/dynamic-markup-insertion.html&lt;/a&gt;  ( &lt;a href="https://whatpr.org/html/9400/d6ce12a...e3ede80/dynamic-markup-insertion.html" title="Last updated on Oct 2, 2023, 9:40 PM UTC (e3ede80)"&gt;diff&lt;/a&gt; )
&lt;a href="https://whatpr.org/html/9400/indices.html" title="Last updated on Oct 2, 2023, 9:40 PM UTC (e3ede80)"&gt;/indices.html&lt;/a&gt;  ( &lt;a href="https://whatpr.org/html/9400/d6ce12a...e3ede80/indices.html" title="Last updated on Oct 2, 2023, 9:40 PM UTC (e3ede80)"&gt;diff&lt;/a&gt; )
&lt;a href="https://whatpr.org/html/9400/interactive-elements.html" title="Last updated on Oct 2, 2023, 9:40 PM UTC (e3ede80)"&gt;/interactive-elements.html&lt;/a&gt;  ( &lt;a href="https://whatpr.org/html/9400/d6ce12a...e3ede80/interactive-elements.html" title="Last updated on Oct 2, 2023, 9:40 PM UTC (e3ede80)"&gt;diff&lt;/a&gt; )</span></p>
</div>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>Which was merged into HTML.</p>
<p>Apparently it’s been implemented in WebKit already, and, looking at the PR, bugs have been filed on all the relevant user agents.</p>
<p><a href="/u/fitzsim">fitzsim</a> is there anything missing from what is already in HTML that you are proposing here?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">fitzsim</div>
          <div class="creation_date">2023-11-28</div>
          <div class="post_content">
<p>No, I just did not search hard enough. <img alt=":slight_smile:" class="emoji" height="20" loading="lazy" src="//discourse.wicg.io/images/emoji/twitter/slight_smile.png?v=12" title=":slight_smile:" width="20"/>  I checked MDN and did web searches, and tested Chromium, and Firefox nightly, but I guess I am still a little early for the actual implementation, but I did not check <a href="https://html.spec.whatwg.org">https://html.spec.whatwg.org</a> (duh!).  I did not have the “exclusive accordion” terminology during my search.  There are so many examples of this concept, even non-JavaScript implementations, and none of those blogs mentioned this having been merged, I guess due to the recency.</p>
<p>Wow, reading <a class="inline-onebox" href="https://open-ui.org/components/accordion.explainer/" rel="noopener nofollow ugc">Exclusive Accordion (Explainer) | Open UI</a> it really looks like my proposal was copied from that, but I wrote it up independently, I swear! <img alt=":slight_smile:" class="emoji" height="20" loading="lazy" src="//discourse.wicg.io/images/emoji/twitter/slight_smile.png?v=12" title=":slight_smile:" width="20"/>  I have wanted this feature for about four years since attempting to implement an HTML+CSS-only accordion in a product web UI.  Recently, a friend of mine bumped into this too, and I told him I would file a bug, so I wrote up this proposal.  FWIW, I considered the scope question and I think the standard made the right call to recommend but not mandate the containing element.</p>
<p>Anyway, I will follow <a class="inline-onebox" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1856460" rel="noopener nofollow ugc">1856460 - implement &lt;details name=""&gt; attribute (exclusive accordion)</a>.  The name attribute is exactly what I have been wanting; thanks for pointing out it has been merged into HTML!  This topic can be closed.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2421_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">marcosc</div>
          <div class="creation_date">2023-11-28</div>
          <div class="post_content">
<p>Ok, cool. And yeah, it makes sense you would land at the same or similar solution. Great to hear your use case was addressed.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
