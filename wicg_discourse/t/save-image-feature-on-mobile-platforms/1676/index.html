<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>“Save image” feature on mobile platforms</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="WICG" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">A partial archive of discourse.wicg.io as of Thursday February 08, 2024.</div>
    <h1 class="topic-title">“Save image” feature on mobile platforms</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3804_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">simevidas</div>
          <div class="creation_date">2016-08-29</div>
          <div class="post_content">
<p>Some native Android/iOS apps, like WhatsApp and Facebook, have a “save image” feature when viewing content photos like profile pictures and images attached to chat messages; it’s basically a dropdown option which places an image directly into the user’s local photo collection with a single tap.</p>
<p>Peter O’Shaughnessy, a developer advocate for the Samsung Internet browser, recently published <a href="https://medium.com/samsung-internet-dev/things-i-learned-making-a-progressive-web-app-for-super-selfies-49e76d154e4f#.cp1ais2jl" rel="nofollow noopener">a post</a> which describes how he implemented a Snapchat clone as a web app. As he writes, the trickiest part was allowing the user to save the generated image:</p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="//discourse.wicg.io/uploads/default/3d16ea407f82d91ea968ab022bc66290f47b2535" href="//discourse.wicg.io/uploads/default/original/2X/3/3d16ea407f82d91ea968ab022bc66290f47b2535.jpg" title="Cq1GsQmWgBQe2zL.jpg large.jpg"><img data-small-upload="//discourse.wicg.io/uploads/default/optimized/2X/3/3d16ea407f82d91ea968ab022bc66290f47b2535_2_10x10.png" height="489" src="//discourse.wicg.io/uploads/default/optimized/2X/3/3d16ea407f82d91ea968ab022bc66290f47b2535_2_690x489.jpg" srcset="//discourse.wicg.io/uploads/default/optimized/2X/3/3d16ea407f82d91ea968ab022bc66290f47b2535_2_690x489.jpg, //discourse.wicg.io/uploads/default/optimized/2X/3/3d16ea407f82d91ea968ab022bc66290f47b2535_2_1035x733.jpg 1.5x, //discourse.wicg.io/uploads/default/optimized/2X/3/3d16ea407f82d91ea968ab022bc66290f47b2535_2_1380x978.jpg 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">Cq1GsQmWgBQe2zL.jpg large.jpg</span><span class="informations">1463×1037 226 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>There is already discussion about a “Saving Files API” <a href="https://discourse.wicg.io/t/saving-files-api/63/1">here</a>, but I was wondering if we could tackle the “save image” feature separately, since it has a narrower scope. Being able to effortlessly save images on the mobile web seems like an important use case for which there currently doesn’t exist a proper solution.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2455_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">DanielHerr</div>
          <div class="creation_date">2016-08-29</div>
          <div class="post_content">
<p>Not being able to use local data on <code>&lt;a download&gt;</code> sounds like a browser bug which should not require a standardized alternative.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3804_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">simevidas</div>
          <div class="creation_date">2016-08-30</div>
          <div class="post_content">
<p>The problem with <code>&lt;a download&gt;</code> is that it places the image inside the Downloads app instead of the Photos app. This is an important distinction, because users <em>expect</em> the saved image to become available in Photos (since that’s where native apps put it).</p>
<p>Live demo: <a href="https://output.jsbin.com/jububen/quiet" rel="nofollow noopener">https://output.jsbin.com/jububen/quiet</a> (I’ve tested in Chrome for Android)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2455_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">DanielHerr</div>
          <div class="creation_date">2016-08-30</div>
          <div class="post_content">
<p>That still sounds like it could be handled automatically by the browser or platform, by putting files with an image suffix into a dedicated Photos app. And that would not require every site with images to add dedicated mobile saving code. Perhaps you could open issues in the browser’s bug trackers.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1204_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">PeterOShaughnessy</div>
          <div class="creation_date">2016-08-30</div>
          <div class="post_content">
<p>i think there may be something special about having an image taken from your camera though. If an app wishes to save some other generated image, I would probably expect it to go to some other folder, like ‘downloads’. But I think an expectation of a photo going to your ‘photos’ folder or ‘camera roll’, comes from it having been taken from your camera, so therefore it should go with the other photos <em>that you have taken</em>. In that sense, I don’t think just going by the file extension would really work…</p>
<p>In the iOS native world, each app can have its own album (folder). Snapchat downloads to the Photos folder though.</p>
<p>As a developer, I don’t really mind where it downloads to - my issue was more not being able to download images properly at all. At least if it could be consistent across platforms, then I could add something like a toast notification to the user to suggest where to look for it, perhaps.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/658_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">AshleyScirra</div>
          <div class="creation_date">2016-08-30</div>
          <div class="post_content">
<p>Shouldn’t it work in Chrome already despite the identified bug if you download a blob: URL instead?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1204_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">PeterOShaughnessy</div>
          <div class="creation_date">2016-08-31</div>
          <div class="post_content">
<p>In Chrome on Android (I tested with v52), you get a prompt saying “Chrome needs storage access to download files”. You can choose “Update permissions”. This prompts “Allow Chrome to access photos, media and files on your device?” to which you can tap “Allow”. Then your photo is downloaded to the ‘Download’ album.</p>
<p>But on iOS, both Chrome and Safari simply load the image up in another tab. (And as mentioned, Samsung Internet on Android blocks it).</p>
<p>I tested using: <a href="https://github.com/poshaughnessy/image-download-tests" rel="nofollow noopener">https://github.com/poshaughnessy/image-download-tests</a></p>
<p>If it could work in the same way as Chrome on Android, consistently across other browsers, I think this would be pretty good, at least as a short term solution.</p>
<p>Although I do agree with <span class="mention">@simevidas</span> that this method is a bit of a hack. (Imagine a native developer coming to the web and asking how to save a photo, and you answer “well, you just generate an anchor tag element with a ‘download’ attribute and set the src attribute to your data-uri and then simulate a click on it!”).</p>
<p>My own instinct would be to prefer adding a simple image option to an existing File Saving API, rather than having its own separate one, but I guess this will take more thought…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1994_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">patrick_h_lauke</div>
          <div class="creation_date">2016-09-04</div>
          <div class="post_content">
<p>Fundamentally, this feels like something for the user agents to do (e.g. the browser would offer to save a file to photos, rather than downloads folder, based on MIME type - ideal - or file extension - as a last resort), rather than something that would benefit froma new property/method/whatever in the spec. This way, browsers could also offer related settings (e.g. “always save images to my photos”, “choose download folder for images”, or similar)</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
